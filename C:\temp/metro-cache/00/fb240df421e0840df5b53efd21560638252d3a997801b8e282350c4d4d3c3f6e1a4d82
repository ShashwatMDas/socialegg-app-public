{"dependencies":[{"name":"object-assign","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /** @license React v1.4.1\n   * use-subscription.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  'use strict';\n\n  if (process.env.NODE_ENV !== \"production\") {\n    (function () {\n      'use strict';\n\n      var _assign = _$$_REQUIRE(_dependencyMap[0], \"object-assign\");\n\n      var react = _$$_REQUIRE(_dependencyMap[1], \"react\");\n\n      function useSubscription(_ref) {\n        var getCurrentValue = _ref.getCurrentValue,\n            subscribe = _ref.subscribe;\n\n        var _useState = react.useState(function () {\n          return {\n            getCurrentValue: getCurrentValue,\n            subscribe: subscribe,\n            value: getCurrentValue()\n          };\n        }),\n            state = _useState[0],\n            setState = _useState[1];\n\n        var valueToReturn = state.value;\n\n        if (state.getCurrentValue !== getCurrentValue || state.subscribe !== subscribe) {\n          valueToReturn = getCurrentValue();\n          setState({\n            getCurrentValue: getCurrentValue,\n            subscribe: subscribe,\n            value: valueToReturn\n          });\n        }\n\n        react.useDebugValue(valueToReturn);\n        react.useEffect(function () {\n          var didUnsubscribe = false;\n\n          var checkForUpdates = function checkForUpdates() {\n            if (didUnsubscribe) {\n              return;\n            }\n\n            var value = getCurrentValue();\n            setState(function (prevState) {\n              if (prevState.getCurrentValue !== getCurrentValue || prevState.subscribe !== subscribe) {\n                return prevState;\n              }\n\n              if (prevState.value === value) {\n                return prevState;\n              }\n\n              return _assign({}, prevState, {\n                value: value\n              });\n            });\n          };\n\n          var unsubscribe = subscribe(checkForUpdates);\n          checkForUpdates();\n          return function () {\n            didUnsubscribe = true;\n            unsubscribe();\n          };\n        }, [getCurrentValue, subscribe]);\n        return valueToReturn;\n      }\n\n      exports.useSubscription = useSubscription;\n    })();\n  }\n});","lineCount":83,"map":[[2,0,1,0],[10,0,10,0],[12,0,14,0],[12,6,14,4,"process"],[12,13,14,11],[12,14,14,12,"env"],[12,17,14,4],[12,18,14,16,"NODE_ENV"],[12,26,14,4],[12,31,14,29],[12,43,14,0],[12,45,14,43],[13,0,15,2],[13,5,15,3],[13,17,15,14],[14,0,16,0],[16,0,18,0],[16,10,18,4,"_assign"],[16,17,18,11],[16,20,18,14,"require"],[16,31,18,21],[16,67,18,0],[18,0,19,0],[18,10,19,4,"react"],[18,15,19,9],[18,18,19,12,"require"],[18,29,19,19],[18,57,19,0],[20,0,27,0],[20,15,27,9,"useSubscription"],[20,30,27,0],[20,31,27,25,"_ref"],[20,35,27,0],[20,37,27,31],[21,0,28,2],[21,12,28,6,"getCurrentValue"],[21,27,28,21],[21,30,28,24,"_ref"],[21,34,28,28],[21,35,28,29,"getCurrentValue"],[21,50,28,2],[22,0,28,2],[22,12,29,6,"subscribe"],[22,21,29,15],[22,24,29,18,"_ref"],[22,28,29,22],[22,29,29,23,"subscribe"],[22,38,28,2],[24,0,35,2],[24,12,35,6,"_useState"],[24,21,35,15],[24,24,35,18,"react"],[24,29,35,23],[24,30,35,24,"useState"],[24,38,35,18],[24,39,35,33],[24,51,35,45],[25,0,36,4],[25,17,36,11],[26,0,37,6,"getCurrentValue"],[26,12,37,6,"getCurrentValue"],[26,27,37,21],[26,29,37,23,"getCurrentValue"],[26,44,36,11],[27,0,38,6,"subscribe"],[27,12,38,6,"subscribe"],[27,21,38,15],[27,23,38,17,"subscribe"],[27,32,36,11],[28,0,39,6,"value"],[28,12,39,6,"value"],[28,17,39,11],[28,19,39,13,"getCurrentValue"],[28,34,39,28],[29,0,36,11],[29,11,36,4],[30,0,41,3],[30,9,35,18],[30,10,35,2],[31,0,35,2],[31,12,42,6,"state"],[31,17,42,11],[31,20,42,14,"_useState"],[31,29,42,23],[31,30,42,24],[31,31,42,23],[31,32,35,2],[32,0,35,2],[32,12,43,6,"setState"],[32,20,43,14],[32,23,43,17,"_useState"],[32,32,43,26],[32,33,43,27],[32,34,43,26],[32,35,35,2],[34,0,45,2],[34,12,45,6,"valueToReturn"],[34,25,45,19],[34,28,45,22,"state"],[34,33,45,27],[34,34,45,28,"value"],[34,39,45,2],[36,0,47,2],[36,12,47,6,"state"],[36,17,47,11],[36,18,47,12,"getCurrentValue"],[36,33,47,6],[36,38,47,32,"getCurrentValue"],[36,53,47,6],[36,57,47,51,"state"],[36,62,47,56],[36,63,47,57,"subscribe"],[36,72,47,51],[36,77,47,71,"subscribe"],[36,86,47,2],[36,88,47,82],[37,0,51,4,"valueToReturn"],[37,10,51,4,"valueToReturn"],[37,23,51,17],[37,26,51,20,"getCurrentValue"],[37,41,51,35],[37,43,51,4],[38,0,52,4,"setState"],[38,10,52,4,"setState"],[38,18,52,12],[38,19,52,13],[39,0,53,6,"getCurrentValue"],[39,12,53,6,"getCurrentValue"],[39,27,53,21],[39,29,53,23,"getCurrentValue"],[39,44,52,13],[40,0,54,6,"subscribe"],[40,12,54,6,"subscribe"],[40,21,54,15],[40,23,54,17,"subscribe"],[40,32,52,13],[41,0,55,6,"value"],[41,12,55,6,"value"],[41,17,55,11],[41,19,55,13,"valueToReturn"],[42,0,52,13],[42,11,52,12],[42,12,52,4],[43,0,57,3],[45,0,60,2,"react"],[45,8,60,2,"react"],[45,13,60,7],[45,14,60,8,"useDebugValue"],[45,27,60,2],[45,28,60,22,"valueToReturn"],[45,41,60,2],[46,0,70,2,"react"],[46,8,70,2,"react"],[46,13,70,7],[46,14,70,8,"useEffect"],[46,23,70,2],[46,24,70,18],[46,36,70,30],[47,0,71,4],[47,14,71,8,"didUnsubscribe"],[47,28,71,22],[47,31,71,25],[47,36,71,4],[49,0,73,4],[49,14,73,8,"checkForUpdates"],[49,29,73,23],[49,32,73,26],[49,41,73,8,"checkForUpdates"],[49,56,73,26],[49,59,73,38],[50,0,78,6],[50,16,78,10,"didUnsubscribe"],[50,30,78,6],[50,32,78,26],[51,0,79,8],[52,0,80,7],[54,0,86,6],[54,16,86,10,"value"],[54,21,86,15],[54,24,86,18,"getCurrentValue"],[54,39,86,33],[54,41,86,6],[55,0,87,6,"setState"],[55,12,87,6,"setState"],[55,20,87,14],[55,21,87,15],[55,31,87,25,"prevState"],[55,40,87,15],[55,42,87,36],[56,0,92,8],[56,18,92,12,"prevState"],[56,27,92,21],[56,28,92,22,"getCurrentValue"],[56,43,92,12],[56,48,92,42,"getCurrentValue"],[56,63,92,12],[56,67,92,61,"prevState"],[56,76,92,70],[56,77,92,71,"subscribe"],[56,86,92,61],[56,91,92,85,"subscribe"],[56,100,92,8],[56,102,92,96],[57,0,93,10],[57,23,93,17,"prevState"],[57,32,93,10],[58,0,94,9],[60,0,99,8],[60,18,99,12,"prevState"],[60,27,99,21],[60,28,99,22,"value"],[60,33,99,12],[60,38,99,32,"value"],[60,43,99,8],[60,45,99,39],[61,0,100,10],[61,23,100,17,"prevState"],[61,32,100,10],[62,0,101,9],[64,0,103,8],[64,21,103,15,"_assign"],[64,28,103,22],[64,29,103,23],[64,31,103,22],[64,33,103,27,"prevState"],[64,42,103,22],[64,44,103,38],[65,0,104,10,"value"],[65,16,104,10,"value"],[65,21,104,15],[65,23,104,17,"value"],[66,0,103,38],[66,15,103,22],[66,16,103,8],[67,0,106,7],[67,13,87,14],[67,14,87,6],[68,0,107,5],[68,11,73,4],[70,0,109,4],[70,14,109,8,"unsubscribe"],[70,25,109,19],[70,28,109,22,"subscribe"],[70,37,109,31],[70,38,109,32,"checkForUpdates"],[70,53,109,31],[70,54,109,4],[71,0,113,4,"checkForUpdates"],[71,10,113,4,"checkForUpdates"],[71,25,113,19],[72,0,114,4],[72,17,114,11],[72,29,114,23],[73,0,115,6,"didUnsubscribe"],[73,12,115,6,"didUnsubscribe"],[73,26,115,20],[73,29,115,23],[73,33,115,6],[74,0,116,6,"unsubscribe"],[74,12,116,6,"unsubscribe"],[74,23,116,17],[75,0,117,5],[75,11,114,4],[76,0,118,3],[76,9,70,2],[76,11,118,5],[76,12,118,6,"getCurrentValue"],[76,27,118,5],[76,29,118,23,"subscribe"],[76,38,118,5],[76,39,70,2],[77,0,120,2],[77,15,120,9,"valueToReturn"],[77,28,120,2],[78,0,121,1],[80,0,123,0,"exports"],[80,6,123,0,"exports"],[80,13,123,7],[80,14,123,8,"useSubscription"],[80,29,123,0],[80,32,123,26,"useSubscription"],[80,47,123,0],[81,0,124,3],[81,5,15,2],[82,0,125,1]],"functionMap":{"names":["<global>","<anonymous>","useSubscription","react.useState$argument_0","react.useEffect$argument_0","checkForUpdates","setState$argument_0"],"mappings":"AAA;GCc;ACY;iCCQ;GDM;kBE6B;0BCG;eCc;ODmB;KDC;WHO;KGG;GFC;CDG;GDG"}},"type":"js/module"}]}