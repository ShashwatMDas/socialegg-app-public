{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/get","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"./Animation","data":{"isAsync":false}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _get = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/get\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  function _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var Animation = _$$_REQUIRE(_dependencyMap[6], \"./Animation\");\n\n  var _require = _$$_REQUIRE(_dependencyMap[7], \"../NativeAnimatedHelper\"),\n      shouldUseNativeDriver = _require.shouldUseNativeDriver;\n\n  var DecayAnimation = function (_Animation) {\n    _inherits(DecayAnimation, _Animation);\n\n    var _super = _createSuper(DecayAnimation);\n\n    function DecayAnimation(config) {\n      var _config$deceleration, _config$isInteraction, _config$iterations;\n\n      var _this;\n\n      _classCallCheck(this, DecayAnimation);\n\n      _this = _super.call(this);\n      _this._deceleration = (_config$deceleration = config.deceleration) != null ? _config$deceleration : 0.998;\n      _this._velocity = config.velocity;\n      _this._useNativeDriver = shouldUseNativeDriver(config);\n      _this.__isInteraction = (_config$isInteraction = config.isInteraction) != null ? _config$isInteraction : !_this._useNativeDriver;\n      _this.__iterations = (_config$iterations = config.iterations) != null ? _config$iterations : 1;\n      return _this;\n    }\n\n    _createClass(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        this.__active = true;\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n        this._startTime = Date.now();\n\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n        this._onUpdate(value);\n\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._lastValue = value;\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _get(_getPrototypeOf(DecayAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    return DecayAnimation;\n  }(Animation);\n\n  module.exports = DecayAnimation;\n});","lineCount":112,"map":[[2,0,10,0],[20,0,12,0],[20,6,12,6,"Animation"],[20,15,12,15],[20,18,12,18,"require"],[20,29,12,25],[20,63,12,0],[22,17,14,32,"require"],[22,28,14,39],[22,74],[23,6,14,7,"shouldUseNativeDriver"],[23,27],[23,39,14,7,"shouldUseNativeDriver"],[23,60],[25,6,29,6,"DecayAnimation"],[25,20],[30,0,39,2],[30,28,39,14,"config"],[30,34,39,2],[30,36,39,50],[31,0,39,50],[33,0,39,50],[35,0,39,50],[37,0,40,4],[38,0,41,4],[38,12,41,9,"_deceleration"],[38,25,41,4],[38,52,41,25,"config"],[38,58,41,31],[38,59,41,32,"deceleration"],[38,71,41,4],[38,106,41,48],[38,111,41,4],[39,0,42,4],[39,12,42,9,"_velocity"],[39,21,42,4],[39,24,42,21,"config"],[39,30,42,27],[39,31,42,28,"velocity"],[39,39,42,4],[40,0,43,4],[40,12,43,9,"_useNativeDriver"],[40,28,43,4],[40,31,43,28,"shouldUseNativeDriver"],[40,52,43,49],[40,53,43,50,"config"],[40,59,43,49],[40,60,43,4],[41,0,44,4],[41,12,44,9,"__isInteraction"],[41,27,44,4],[41,55,44,27,"config"],[41,61,44,33],[41,62,44,34,"isInteraction"],[41,75,44,4],[41,111,44,51],[41,112,44,52],[41,118,44,57,"_useNativeDriver"],[41,134,44,4],[42,0,45,4],[42,12,45,9,"__iterations"],[42,24,45,4],[42,49,45,24,"config"],[42,55,45,30],[42,56,45,31,"iterations"],[42,66,45,4],[42,99,45,45],[42,100,45,4],[43,0,39,50],[44,0,46,3],[48,51,53,6],[49,0,54,4],[49,15,54,11],[50,0,55,6,"type"],[50,10,55,6,"type"],[50,14,55,10],[50,16,55,12],[50,23,54,11],[51,0,56,6,"deceleration"],[51,10,56,6,"deceleration"],[51,22,56,18],[51,24,56,20],[51,29,56,25,"_deceleration"],[51,42,54,11],[52,0,57,6,"velocity"],[52,10,57,6,"velocity"],[52,18,57,14],[52,20,57,16],[52,25,57,21,"_velocity"],[52,34,54,11],[53,0,58,6,"iterations"],[53,10,58,6,"iterations"],[53,20,58,16],[53,22,58,18],[53,27,58,23,"__iterations"],[54,0,54,11],[54,9,54,4],[55,0,60,3],[58,28,63,4,"fromValue"],[58,37],[58,39,64,4,"onUpdate"],[58,47],[58,49,65,4,"onEnd"],[58,54],[58,56,66,4,"previousAnimation"],[58,73],[58,75,67,4,"animatedValue"],[58,88],[58,90,68,10],[59,0,69,4],[59,13,69,9,"__active"],[59,21,69,4],[59,24,69,20],[59,28,69,4],[60,0,70,4],[60,13,70,9,"_lastValue"],[60,23,70,4],[60,26,70,22,"fromValue"],[60,35,70,4],[61,0,71,4],[61,13,71,9,"_fromValue"],[61,23,71,4],[61,26,71,22,"fromValue"],[61,35,71,4],[62,0,72,4],[62,13,72,9,"_onUpdate"],[62,22,72,4],[62,25,72,21,"onUpdate"],[62,33,72,4],[63,0,73,4],[63,13,73,9,"__onEnd"],[63,20,73,4],[63,23,73,19,"onEnd"],[63,28,73,4],[64,0,74,4],[64,13,74,9,"_startTime"],[64,23,74,4],[64,26,74,22,"Date"],[64,30,74,26],[64,31,74,27,"now"],[64,34,74,22],[64,36,74,4],[66,0,75,4],[66,12,75,8],[66,17,75,13,"_useNativeDriver"],[66,33,75,4],[66,35,75,31],[67,0,76,6],[67,15,76,11,"__startNativeAnimation"],[67,37,76,6],[67,38,76,34,"animatedValue"],[67,51,76,6],[68,0,77,5],[68,9,75,4],[68,15,77,11],[69,0,78,6],[69,15,78,11,"_animationFrame"],[69,30,78,6],[69,33,78,29,"requestAnimationFrame"],[69,54,78,50],[69,55,78,51],[69,60,78,56,"onUpdate"],[69,68,78,51],[69,69,78,65,"bind"],[69,73,78,51],[69,74,78,70],[69,78,78,51],[69,79,78,50],[69,80,78,6],[70,0,79,5],[71,0,80,3],[74,33,82,19],[75,0,83,4],[75,12,83,10,"now"],[75,15,83,13],[75,18,83,16,"Date"],[75,22,83,20],[75,23,83,21,"now"],[75,26,83,16],[75,28,83,4],[76,0,85,4],[76,12,85,10,"value"],[76,17,85,15],[76,20,86,6],[76,25,86,11,"_fromValue"],[76,35,86,6],[76,38,87,7],[76,43,87,12,"_velocity"],[76,52,87,7],[76,56,87,25],[76,60,87,29],[76,65,87,34,"_deceleration"],[76,78,87,7],[76,79,87,6],[76,83,88,9],[76,87,88,13,"Math"],[76,91,88,17],[76,92,88,18,"exp"],[76,95,88,13],[76,96,88,22],[76,98,88,24],[76,102,88,28],[76,107,88,33,"_deceleration"],[76,120,88,22],[76,125,88,51,"now"],[76,128,88,54],[76,131,88,57],[76,136,88,62,"_startTime"],[76,146,88,22],[76,147,88,13],[76,148,87,6],[76,149,85,4],[78,0,90,4],[78,13,90,9,"_onUpdate"],[78,22,90,4],[78,23,90,19,"value"],[78,28,90,4],[80,0,92,4],[80,12,92,8,"Math"],[80,16,92,12],[80,17,92,13,"abs"],[80,20,92,8],[80,21,92,17],[80,26,92,22,"_lastValue"],[80,36,92,17],[80,39,92,35,"value"],[80,44,92,8],[80,48,92,44],[80,51,92,4],[80,53,92,49],[81,0,93,6],[81,15,93,11,"__debouncedOnEnd"],[81,31,93,6],[81,32,93,28],[82,0,93,29,"finished"],[82,12,93,29,"finished"],[82,20,93,37],[82,22,93,39],[83,0,93,28],[83,11,93,6],[85,0,94,6],[86,0,95,5],[88,0,97,4],[88,13,97,9,"_lastValue"],[88,23,97,4],[88,26,97,22,"value"],[88,31,97,4],[90,0,98,4],[90,12,98,8],[90,17,98,13,"__active"],[90,25,98,4],[90,27,98,23],[91,0,99,6],[91,15,99,11,"_animationFrame"],[91,30,99,6],[91,33,99,29,"requestAnimationFrame"],[91,54,99,50],[91,55,99,51],[91,60,99,56,"onUpdate"],[91,68,99,51],[91,69,99,65,"bind"],[91,73,99,51],[91,74,99,70],[91,78,99,51],[91,79,99,50],[91,80,99,6],[92,0,100,5],[93,0,101,3],[96,29,103,15],[97,0,104,4],[99,0,105,4],[99,13,105,9,"__active"],[99,21,105,4],[99,24,105,20],[99,29,105,4],[100,0,106,4,"global"],[100,8,106,4,"global"],[100,14,106,10],[100,15,106,11,"cancelAnimationFrame"],[100,35,106,4],[100,36,106,32],[100,41,106,37,"_animationFrame"],[100,56,106,4],[102,0,107,4],[102,13,107,9,"__debouncedOnEnd"],[102,29,107,4],[102,30,107,26],[103,0,107,27,"finished"],[103,10,107,27,"finished"],[103,18,107,35],[103,20,107,37],[104,0,107,26],[104,9,107,4],[105,0,108,3],[109,4,29,29,"Animation"],[109,13],[111,0,111,0,"module"],[111,2,111,0,"module"],[111,8,111,6],[111,9,111,7,"exports"],[111,16,111,0],[111,19,111,17,"DecayAnimation"],[111,33,111,0]],"functionMap":{"names":["<global>","DecayAnimation","constructor","__getNativeAnimationConfig","start","onUpdate","stop"],"mappings":"AAA;AC4B;ECU;GDO;EEE;GFY;EGE;GHkB;EIE;GJmB;EKE;GLK;CDC"}},"type":"js/module"}]}