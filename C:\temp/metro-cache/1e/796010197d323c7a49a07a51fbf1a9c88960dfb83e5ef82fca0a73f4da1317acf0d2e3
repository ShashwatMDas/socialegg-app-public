{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"./NativeAppState","data":{"isAsync":false}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"../Utilities/logError","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _NativeAppState = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeAppState\"));\n\n  function _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[7], \"../vendor/emitter/EventEmitter\");\n\n  var NativeEventEmitter = _$$_REQUIRE(_dependencyMap[8], \"../EventEmitter/NativeEventEmitter\");\n\n  var logError = _$$_REQUIRE(_dependencyMap[9], \"../Utilities/logError\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[10], \"invariant\");\n\n  var AppState = function (_NativeEventEmitter) {\n    (0, _inherits2.default)(AppState, _NativeEventEmitter);\n\n    var _super = _createSuper(AppState);\n\n    function AppState() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AppState);\n      _this = _super.call(this, _NativeAppState.default);\n      _this._supportedEvents = ['change', 'memoryWarning', 'blur', 'focus'];\n      _this.isAvailable = true;\n      _this._eventHandlers = _this._supportedEvents.reduce(function (handlers, key) {\n        handlers[key] = new Map();\n        return handlers;\n      }, {});\n      _this.currentState = _NativeAppState.default.getConstants().initialAppState;\n      var eventUpdated = false;\n\n      _this.addListener('appStateDidChange', function (appStateData) {\n        eventUpdated = true;\n        _this.currentState = appStateData.app_state;\n      });\n\n      _NativeAppState.default.getCurrentAppState(function (appStateData) {\n        if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n          _this.currentState = appStateData.app_state;\n\n          _this.emit('appStateDidChange', appStateData);\n        }\n      }, logError);\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(AppState, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n\n        switch (type) {\n          case 'change':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n                handler(appStateData.app_state);\n              }));\n\n              break;\n            }\n\n          case 'memoryWarning':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n\n              break;\n            }\n\n          case 'blur':\n          case 'focus':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateFocusChange', function (hasFocus) {\n                if (type === 'blur' && !hasFocus) {\n                  handler();\n                }\n\n                if (type === 'focus' && hasFocus) {\n                  handler();\n                }\n              }));\n            }\n        }\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n\n        if (!this._eventHandlers[type].has(handler)) {\n          return;\n        }\n\n        this._eventHandlers[type].get(handler).remove();\n\n        this._eventHandlers[type].delete(handler);\n      }\n    }]);\n    return AppState;\n  }(NativeEventEmitter);\n\n  function throwMissingNativeModule() {\n    invariant(false, 'Cannot use AppState module when native RCTAppState is not included in the build.\\n' + 'Either include it, or check AppState.isAvailable before calling any methods.');\n  }\n\n  var MissingNativeAppStateShim = function (_EventEmitter) {\n    (0, _inherits2.default)(MissingNativeAppStateShim, _EventEmitter);\n\n    var _super2 = _createSuper(MissingNativeAppStateShim);\n\n    function MissingNativeAppStateShim() {\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, MissingNativeAppStateShim);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2 = _super2.call.apply(_super2, [this].concat(args));\n      _this2.isAvailable = false;\n      _this2.currentState = null;\n      return _this2;\n    }\n\n    (0, _createClass2.default)(MissingNativeAppStateShim, [{\n      key: \"addEventListener\",\n      value: function addEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeSubscription\",\n      value: function removeSubscription() {\n        throwMissingNativeModule();\n      }\n    }]);\n    return MissingNativeAppStateShim;\n  }(EventEmitter);\n\n  if (_NativeAppState.default) {\n    AppState = new AppState();\n  } else {\n    AppState = new MissingNativeAppStateShim();\n  }\n\n  module.exports = AppState;\n});","lineCount":179,"map":[[2,0,11,0],[16,0,15,0],[22,0,13,0],[22,6,13,6,"EventEmitter"],[22,18,13,18],[22,21,13,21,"require"],[22,32,13,28],[22,85,13,0],[24,0,14,0],[24,6,14,6,"NativeEventEmitter"],[24,24,14,24],[24,27,14,27,"require"],[24,38,14,34],[24,95,14,0],[26,0,17,0],[26,6,17,6,"logError"],[26,14,17,14],[26,17,17,17,"require"],[26,28,17,24],[26,72,17,0],[28,0,18,0],[28,6,18,6,"invariant"],[28,15,18,15],[28,18,18,18,"require"],[28,29,18,25],[28,62,18,0],[30,6,26,6,"AppState"],[30,14],[35,0,32,2],[35,24,32,16],[36,0,32,16],[38,0,32,16],[39,0,33,4],[39,32,33,10,"NativeAppState"],[39,55,33,4],[40,0,32,16],[40,12,28,2,"_supportedEvents"],[40,28,32,16],[40,31,28,21],[40,32,28,22],[40,40,28,21],[40,42,28,32],[40,57,28,21],[40,59,28,49],[40,65,28,21],[40,67,28,57],[40,74,28,21],[40,75,32,16],[41,0,35,4],[41,12,35,9,"isAvailable"],[41,23,35,4],[41,26,35,23],[41,30,35,4],[42,0,36,4],[42,12,36,9,"_eventHandlers"],[42,26,36,4],[42,29,36,26],[42,35,36,31,"_supportedEvents"],[42,51,36,26],[42,52,36,48,"reduce"],[42,58,36,26],[42,59,36,55],[42,69,36,56,"handlers"],[42,77,36,55],[42,79,36,66,"key"],[42,82,36,55],[42,84,36,74],[43,0,37,6,"handlers"],[43,8,37,6,"handlers"],[43,16,37,14],[43,17,37,15,"key"],[43,20,37,14],[43,21,37,6],[43,24,37,22],[43,28,37,26,"Map"],[43,31,37,22],[43,33,37,6],[44,0,38,6],[44,15,38,13,"handlers"],[44,23,38,6],[45,0,39,5],[45,7,36,26],[45,9,39,7],[45,11,36,26],[45,12,36,4],[46,0,41,4],[46,12,41,9,"currentState"],[46,24,41,4],[46,27,41,24,"NativeAppState"],[46,51,41,39,"getConstants"],[46,63,41,24],[46,66,41,54,"initialAppState"],[46,81,41,4],[47,0,43,4],[47,10,43,8,"eventUpdated"],[47,22,43,20],[47,25,43,23],[47,30,43,4],[49,0,49,4],[49,12,49,9,"addListener"],[49,23,49,4],[49,24,49,21],[49,43,49,4],[49,45,49,42],[49,55,49,42,"appStateData"],[49,67,49,54],[49,69,49,58],[50,0,50,6,"eventUpdated"],[50,8,50,6,"eventUpdated"],[50,20,50,18],[50,23,50,21],[50,27,50,6],[51,0,51,6],[51,14,51,11,"currentState"],[51,26,51,6],[51,29,51,26,"appStateData"],[51,41,51,38],[51,42,51,39,"app_state"],[51,51,51,6],[52,0,52,5],[52,7,49,4],[54,0,57,4,"NativeAppState"],[54,30,57,19,"getCurrentAppState"],[54,48,57,4],[54,49,57,38],[54,59,57,38,"appStateData"],[54,71,57,50],[54,73,57,54],[55,0,59,6],[55,12,59,10],[55,13,59,11,"eventUpdated"],[55,25,59,10],[55,29,59,27],[55,35,59,32,"currentState"],[55,47,59,27],[55,52,59,49,"appStateData"],[55,64,59,61],[55,65,59,62,"app_state"],[55,74,59,6],[55,76,59,73],[56,0,60,8],[56,16,60,13,"currentState"],[56,28,60,8],[56,31,60,28,"appStateData"],[56,43,60,40],[56,44,60,41,"app_state"],[56,53,60,8],[58,0,61,8],[58,16,61,13,"emit"],[58,20,61,8],[58,21,61,18],[58,40,61,8],[58,42,61,39,"appStateData"],[58,54,61,8],[59,0,62,7],[60,0,63,5],[60,7,57,4],[60,9,63,7,"logError"],[60,17,57,4],[62,0,32,16],[63,0,64,3],[67,39,77,19,"type"],[67,43],[67,45,77,33,"handler"],[67,52],[67,54,77,52],[68,0,78,4,"invariant"],[68,8,78,4,"invariant"],[68,17,78,13],[68,18,79,6],[68,23,79,11,"_supportedEvents"],[68,39,79,6],[68,40,79,28,"indexOf"],[68,47,79,6],[68,48,79,36,"type"],[68,52,79,6],[68,58,79,46],[68,59,79,47],[68,60,78,13],[68,62,80,6],[68,106,78,13],[68,108,81,6,"type"],[68,112,78,13],[68,113,78,4],[70,0,84,4],[70,16,84,12,"type"],[70,20,84,4],[71,0,85,6],[71,15,85,11],[71,23,85,6],[72,0,85,21],[73,0,86,8],[73,19,86,13,"_eventHandlers"],[73,33,86,8],[73,34,86,28,"type"],[73,38,86,8],[73,40,86,34,"set"],[73,43,86,8],[73,44,87,10,"handler"],[73,51,86,8],[73,53,88,10],[73,58,88,15,"addListener"],[73,69,88,10],[73,70,88,27],[73,89,88,10],[73,91,88,48],[73,101,88,48,"appStateData"],[73,113,88,60],[73,115,88,64],[74,0,89,12,"handler"],[74,16,89,12,"handler"],[74,23,89,19],[74,24,89,20,"appStateData"],[74,36,89,32],[74,37,89,33,"app_state"],[74,46,89,19],[74,47,89,12],[75,0,90,11],[75,15,88,10],[75,16,86,8],[77,0,92,8],[78,0,93,7],[80,0,94,6],[80,15,94,11],[80,30,94,6],[81,0,94,28],[82,0,95,8],[82,19,95,13,"_eventHandlers"],[82,33,95,8],[82,34,95,28,"type"],[82,38,95,8],[82,40,95,34,"set"],[82,43,95,8],[82,44,96,10,"handler"],[82,51,95,8],[82,53,97,10],[82,58,97,15,"addListener"],[82,69,97,10],[82,70,97,27],[82,85,97,10],[82,87,97,44,"handler"],[82,94,97,10],[82,95,95,8],[84,0,99,8],[85,0,100,7],[87,0,102,6],[87,15,102,11],[87,21,102,6],[88,0,103,6],[88,15,103,11],[88,22,103,6],[89,0,103,20],[90,0,104,8],[90,19,104,13,"_eventHandlers"],[90,33,104,8],[90,34,104,28,"type"],[90,38,104,8],[90,40,104,34,"set"],[90,43,104,8],[90,44,105,10,"handler"],[90,51,104,8],[90,53,106,10],[90,58,106,15,"addListener"],[90,69,106,10],[90,70,106,27],[90,91,106,10],[90,93,106,50],[90,103,106,50,"hasFocus"],[90,111,106,58],[90,113,106,62],[91,0,107,12],[91,20,107,16,"type"],[91,24,107,20],[91,29,107,25],[91,35,107,16],[91,39,107,35],[91,40,107,36,"hasFocus"],[91,48,107,12],[91,50,107,46],[92,0,108,14,"handler"],[92,18,108,14,"handler"],[92,25,108,21],[93,0,109,13],[95,0,110,12],[95,20,110,16,"type"],[95,24,110,20],[95,29,110,25],[95,36,110,16],[95,40,110,36,"hasFocus"],[95,48,110,12],[95,50,110,46],[96,0,111,14,"handler"],[96,18,111,14,"handler"],[96,25,111,21],[97,0,112,13],[98,0,113,11],[98,15,106,10],[98,16,104,8],[99,0,115,7],[100,0,84,4],[101,0,117,3],[104,42,124,22,"type"],[104,46],[104,48,124,36,"handler"],[104,55],[104,57,124,55],[105,0,125,4,"invariant"],[105,8,125,4,"invariant"],[105,17,125,13],[105,18,126,6],[105,23,126,11,"_supportedEvents"],[105,39,126,6],[105,40,126,28,"indexOf"],[105,47,126,6],[105,48,126,36,"type"],[105,52,126,6],[105,58,126,46],[105,59,126,47],[105,60,125,13],[105,62,127,6],[105,113,125,13],[105,115,128,6,"type"],[105,119,125,13],[105,120,125,4],[107,0,130,4],[107,12,130,8],[107,13,130,9],[107,18,130,14,"_eventHandlers"],[107,32,130,9],[107,33,130,29,"type"],[107,37,130,9],[107,39,130,35,"has"],[107,42,130,9],[107,43,130,39,"handler"],[107,50,130,9],[107,51,130,4],[107,53,130,49],[108,0,131,6],[109,0,132,5],[111,0,133,4],[111,13,133,9,"_eventHandlers"],[111,27,133,4],[111,28,133,24,"type"],[111,32,133,4],[111,34,133,30,"get"],[111,37,133,4],[111,38,133,34,"handler"],[111,45,133,4],[111,47,133,43,"remove"],[111,53,133,4],[113,0,134,4],[113,13,134,9,"_eventHandlers"],[113,27,134,4],[113,28,134,24,"type"],[113,32,134,4],[113,34,134,30,"delete"],[113,40,134,4],[113,41,134,37,"handler"],[113,48,134,4],[114,0,135,3],[117,4,26,23,"NativeEventEmitter"],[117,22],[119,0,138,0],[119,11,138,9,"throwMissingNativeModule"],[119,35,138,0],[119,38,138,36],[120,0,139,2,"invariant"],[120,4,139,2,"invariant"],[120,13,139,11],[120,14,140,4],[120,19,139,11],[120,21,141,4],[120,108,142,6],[120,186,139,11],[120,187,139,2],[121,0,144,1],[123,6,146,6,"MissingNativeAppStateShim"],[123,31],[138,13,148,2,"isAvailable"],[138,24],[138,27,148,25],[138,32],[139,13,149,2,"currentState"],[139,25],[139,28,149,26],[139,32],[145,41,151,21],[146,0,152,4,"throwMissingNativeModule"],[146,8,152,4,"throwMissingNativeModule"],[146,32,152,28],[147,0,153,3],[150,44,155,24],[151,0,156,4,"throwMissingNativeModule"],[151,8,156,4,"throwMissingNativeModule"],[151,32,156,28],[152,0,157,3],[155,36,160,16],[156,0,161,4,"throwMissingNativeModule"],[156,8,161,4,"throwMissingNativeModule"],[156,32,161,28],[157,0,162,3],[160,43,164,23],[161,0,165,4,"throwMissingNativeModule"],[161,8,165,4,"throwMissingNativeModule"],[161,32,165,28],[162,0,166,3],[165,43,168,23],[166,0,169,4,"throwMissingNativeModule"],[166,8,169,4,"throwMissingNativeModule"],[166,32,169,28],[167,0,170,3],[170,4,146,40,"EventEmitter"],[170,16],[172,0,176,0],[172,6,176,4,"NativeAppState"],[172,29,176,0],[172,31,176,20],[173,0,177,2,"AppState"],[173,4,177,2,"AppState"],[173,12,177,10],[173,15,177,13],[173,19,177,17,"AppState"],[173,27,177,13],[173,29,177,2],[174,0,178,1],[174,3,176,0],[174,9,178,7],[175,0,179,2,"AppState"],[175,4,179,2,"AppState"],[175,12,179,10],[175,15,179,13],[175,19,179,17,"MissingNativeAppStateShim"],[175,44,179,13],[175,46,179,2],[176,0,180,1],[178,0,182,0,"module"],[178,2,182,0,"module"],[178,8,182,6],[178,9,182,7,"exports"],[178,16,182,0],[178,19,182,17,"AppState"],[178,27,182,0]],"functionMap":{"names":["<global>","AppState","constructor","_supportedEvents.reduce$argument_0","addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","addEventListener","removeEventListener","throwMissingNativeModule","MissingNativeAppStateShim","MissingNativeAppStateShim#addEventListener","MissingNativeAppStateShim#removeEventListener","MissingNativeAppStateShim#addListener","MissingNativeAppStateShim#removeAllListeners","MissingNativeAppStateShim#removeSubscription"],"mappings":"AAA;ACyB;ECM;uDCI;KDG;0CEU;KFG;sCGK;KHM;GDC;EKa;gDFW;WEE;kDFgB;WEO;GLI;EMO;GNW;CDC;AQE;CRM;ASE;ECK;GDE;EEE;GFE;EGG;GHE;EIE;GJE;EKE;GLE;CTC"}},"type":"js/module"}]}