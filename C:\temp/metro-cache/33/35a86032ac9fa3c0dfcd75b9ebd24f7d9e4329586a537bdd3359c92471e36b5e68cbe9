{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"@react-navigation/core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useLinking;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _core = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/core\");\n\n  function _createForOfIteratorHelperLoose(o) { var i = 0; if (typeof Symbol === \"undefined\" || o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } i = o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"](); return i.next.bind(i); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var isUsingLinking = false;\n\n  function useLinking(ref, _ref) {\n    var prefixes = _ref.prefixes,\n        config = _ref.config,\n        _ref$getStateFromPath = _ref.getStateFromPath,\n        getStateFromPath = _ref$getStateFromPath === void 0 ? _core.getStateFromPath : _ref$getStateFromPath;\n    React.useEffect(function () {\n      if (isUsingLinking) {\n        throw new Error(\"Looks like you are using 'useLinking' in multiple components. This is likely an error since deep links should only be handled in one place to avoid conflicts.\" + (_reactNative.Platform.OS === 'android' ? \"\\n\\nIf you're not using it in multiple components, ensure that you have set 'android:launchMode=singleTask' in the '<activity />' section of the 'AndroidManifest.xml' file to avoid launching multiple activities which run multiple instances of the root component.\" : ''));\n      } else {\n        isUsingLinking = true;\n      }\n\n      return function () {\n        isUsingLinking = false;\n      };\n    });\n    var prefixesRef = React.useRef(prefixes);\n    var configRef = React.useRef(config);\n    var getStateFromPathRef = React.useRef(getStateFromPath);\n    React.useEffect(function () {\n      prefixesRef.current = prefixes;\n      configRef.current = config;\n      getStateFromPathRef.current = getStateFromPath;\n    }, [config, getStateFromPath, prefixes]);\n    var extractPathFromURL = React.useCallback(function (url) {\n      for (var _iterator = _createForOfIteratorHelperLoose(prefixesRef.current), _step; !(_step = _iterator()).done;) {\n        var prefix = _step.value;\n\n        if (url.startsWith(prefix)) {\n          return url.replace(prefix, '');\n        }\n      }\n\n      return undefined;\n    }, []);\n    var getInitialState = React.useCallback(function _callee() {\n      var url, path;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_reactNative.Linking.getInitialURL());\n\n            case 2:\n              url = _context.sent;\n              path = url ? extractPathFromURL(url) : null;\n\n              if (!path) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", getStateFromPathRef.current(path, configRef.current));\n\n            case 8:\n              return _context.abrupt(\"return\", undefined);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, [extractPathFromURL]);\n    React.useEffect(function () {\n      var listener = function listener(_ref2) {\n        var url = _ref2.url;\n        var path = extractPathFromURL(url);\n        var navigation = ref.current;\n\n        if (navigation && path) {\n          var state = getStateFromPathRef.current(path, configRef.current);\n\n          if (state) {\n            var action = (0, _core.getActionFromState)(state);\n\n            if (action !== undefined) {\n              navigation.dispatch(action);\n            } else {\n              navigation.resetRoot(state);\n            }\n          }\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', listener);\n\n      return function () {\n        return _reactNative.Linking.removeEventListener('url', listener);\n      };\n    }, [extractPathFromURL, ref]);\n    return {\n      getInitialState: getInitialState\n    };\n  }\n});","lineCount":123,"map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[25,0,10,0],[25,6,10,4,"isUsingLinking"],[25,20,10,18],[25,23,10,21],[25,28,10,0],[27,0,12,15],[27,11,12,24,"useLinking"],[27,21,12,15],[27,22,13,2,"ref"],[27,25,12,15],[27,33,19,2],[28,0,19,2],[28,8,15,4,"prefixes"],[28,16,19,2],[28,24,15,4,"prefixes"],[28,32,19,2],[29,0,19,2],[29,8,16,4,"config"],[29,14,19,2],[29,22,16,4,"config"],[29,28,19,2],[30,0,19,2],[30,37,17,4,"getStateFromPath"],[30,53,19,2],[31,0,19,2],[31,8,17,4,"getStateFromPath"],[31,24,19,2],[31,62,17,23,"getStateFromPathDefault"],[31,84,19,2],[32,0,20,2,"React"],[32,4,20,2,"React"],[32,9,20,7],[32,10,20,8,"useEffect"],[32,19,20,2],[32,20,20,18],[32,32,20,24],[33,0,21,4],[33,10,21,8,"isUsingLinking"],[33,24,21,4],[33,26,21,24],[34,0,22,6],[34,14,22,12],[34,18,22,16,"Error"],[34,23,22,12],[34,24,23,8],[34,188,24,11,"Platform"],[34,210,24,20,"OS"],[34,212,24,11],[34,217,24,27],[34,226,24,11],[34,229,25,14],[34,493,24,11],[34,496,26,14],[34,498,23,8],[34,499,22,12],[34,500,22,6],[35,0,28,5],[35,7,21,4],[35,13,28,11],[36,0,29,6,"isUsingLinking"],[36,8,29,6,"isUsingLinking"],[36,22,29,20],[36,25,29,23],[36,29,29,6],[37,0,30,5],[39,0,32,4],[39,13,32,11],[39,25,32,17],[40,0,33,6,"isUsingLinking"],[40,8,33,6,"isUsingLinking"],[40,22,33,20],[40,25,33,23],[40,30,33,6],[41,0,34,5],[41,7,32,4],[42,0,35,3],[42,5,20,2],[43,0,40,2],[43,8,40,8,"prefixesRef"],[43,19,40,19],[43,22,40,22,"React"],[43,27,40,27],[43,28,40,28,"useRef"],[43,34,40,22],[43,35,40,35,"prefixes"],[43,43,40,22],[43,44,40,2],[44,0,41,2],[44,8,41,8,"configRef"],[44,17,41,17],[44,20,41,20,"React"],[44,25,41,25],[44,26,41,26,"useRef"],[44,32,41,20],[44,33,41,33,"config"],[44,39,41,20],[44,40,41,2],[45,0,42,2],[45,8,42,8,"getStateFromPathRef"],[45,27,42,27],[45,30,42,30,"React"],[45,35,42,35],[45,36,42,36,"useRef"],[45,42,42,30],[45,43,42,43,"getStateFromPath"],[45,59,42,30],[45,60,42,2],[46,0,44,2,"React"],[46,4,44,2,"React"],[46,9,44,7],[46,10,44,8,"useEffect"],[46,19,44,2],[46,20,44,18],[46,32,44,24],[47,0,45,4,"prefixesRef"],[47,6,45,4,"prefixesRef"],[47,17,45,15],[47,18,45,16,"current"],[47,25,45,4],[47,28,45,26,"prefixes"],[47,36,45,4],[48,0,46,4,"configRef"],[48,6,46,4,"configRef"],[48,15,46,13],[48,16,46,14,"current"],[48,23,46,4],[48,26,46,24,"config"],[48,32,46,4],[49,0,47,4,"getStateFromPathRef"],[49,6,47,4,"getStateFromPathRef"],[49,25,47,23],[49,26,47,24,"current"],[49,33,47,4],[49,36,47,34,"getStateFromPath"],[49,52,47,4],[50,0,48,3],[50,5,44,2],[50,7,48,5],[50,8,48,6,"config"],[50,14,48,5],[50,16,48,14,"getStateFromPath"],[50,32,48,5],[50,34,48,32,"prefixes"],[50,42,48,5],[50,43,44,2],[51,0,50,2],[51,8,50,8,"extractPathFromURL"],[51,26,50,26],[51,29,50,29,"React"],[51,34,50,34],[51,35,50,35,"useCallback"],[51,46,50,29],[51,47,50,47],[51,57,50,48,"url"],[51,60,50,47],[51,62,50,64],[52,0,51,4],[52,59,51,25,"prefixesRef"],[52,70,51,36],[52,71,51,37,"current"],[52,78,51,4],[52,118,51,46],[53,0,51,46],[53,12,51,15,"prefix"],[53,18,51,46],[55,0,52,6],[55,12,52,10,"url"],[55,15,52,13],[55,16,52,14,"startsWith"],[55,26,52,10],[55,27,52,25,"prefix"],[55,33,52,10],[55,34,52,6],[55,36,52,34],[56,0,53,8],[56,17,53,15,"url"],[56,20,53,18],[56,21,53,19,"replace"],[56,28,53,15],[56,29,53,27,"prefix"],[56,35,53,15],[56,37,53,35],[56,39,53,15],[56,40,53,8],[57,0,54,7],[58,0,55,5],[60,0,57,4],[60,13,57,11,"undefined"],[60,22,57,4],[61,0,58,3],[61,5,50,29],[61,7,58,5],[61,9,50,29],[61,10,50,2],[62,0,60,2],[62,8,60,8,"getInitialState"],[62,23,60,23],[62,26,60,26,"React"],[62,31,60,31],[62,32,60,32,"useCallback"],[62,43,60,26],[62,44,60,44],[63,0,60,44],[64,0,60,44],[65,0,60,44],[66,0,60,44],[67,0,60,44],[68,0,60,44],[69,0,60,44],[69,48,61,22,"Linking"],[69,69,61,30,"getInitialURL"],[69,82,61,22],[69,84,60,44],[71,0,60,44],[72,0,61,10,"url"],[72,14,61,10,"url"],[72,17,60,44],[73,0,62,10,"path"],[73,14,62,10,"path"],[73,18,60,44],[73,21,62,17,"url"],[73,24,62,20],[73,27,62,23,"extractPathFromURL"],[73,45,62,41],[73,46,62,42,"url"],[73,49,62,41],[73,50,62,20],[73,53,62,49],[73,57,60,44],[75,0,60,44],[75,19,64,8,"path"],[75,23,60,44],[76,0,60,44],[77,0,60,44],[78,0,60,44],[80,0,60,44],[80,47,65,13,"getStateFromPathRef"],[80,66,65,32],[80,67,65,33,"current"],[80,74,65,13],[80,75,65,41,"path"],[80,79,65,13],[80,81,65,47,"configRef"],[80,90,65,56],[80,91,65,57,"current"],[80,98,65,13],[80,99,60,44],[82,0,60,44],[83,0,60,44],[83,47,67,13,"undefined"],[83,56,60,44],[85,0,60,44],[86,0,60,44],[87,0,60,44],[88,0,60,44],[89,0,60,44],[90,0,60,44],[91,0,60,44],[91,5,60,26],[91,7,69,5],[91,8,69,6,"extractPathFromURL"],[91,26,69,5],[91,27,60,26],[91,28,60,2],[92,0,71,2,"React"],[92,4,71,2,"React"],[92,9,71,7],[92,10,71,8,"useEffect"],[92,19,71,2],[92,20,71,18],[92,32,71,24],[93,0,72,4],[93,10,72,10,"listener"],[93,18,72,18],[93,21,72,21],[93,30,72,10,"listener"],[93,38,72,21],[93,46,72,51],[94,0,72,51],[94,12,72,24,"url"],[94,15,72,51],[94,24,72,24,"url"],[94,27,72,51],[95,0,73,6],[95,12,73,12,"path"],[95,16,73,16],[95,19,73,19,"extractPathFromURL"],[95,37,73,37],[95,38,73,38,"url"],[95,41,73,37],[95,42,73,6],[96,0,74,6],[96,12,74,12,"navigation"],[96,22,74,22],[96,25,74,25,"ref"],[96,28,74,28],[96,29,74,29,"current"],[96,36,74,6],[98,0,76,6],[98,12,76,10,"navigation"],[98,22,76,20],[98,26,76,24,"path"],[98,30,76,6],[98,32,76,30],[99,0,77,8],[99,14,77,14,"state"],[99,19,77,19],[99,22,77,22,"getStateFromPathRef"],[99,41,77,41],[99,42,77,42,"current"],[99,49,77,22],[99,50,77,50,"path"],[99,54,77,22],[99,56,77,56,"configRef"],[99,65,77,65],[99,66,77,66,"current"],[99,73,77,22],[99,74,77,8],[101,0,79,8],[101,14,79,12,"state"],[101,19,79,8],[101,21,79,19],[102,0,80,10],[102,16,80,16,"action"],[102,22,80,22],[102,25,80,25],[102,55,80,44,"state"],[102,60,80,25],[102,61,80,10],[104,0,82,10],[104,16,82,14,"action"],[104,22,82,20],[104,27,82,25,"undefined"],[104,36,82,10],[104,38,82,36],[105,0,83,12,"navigation"],[105,14,83,12,"navigation"],[105,24,83,22],[105,25,83,23,"dispatch"],[105,33,83,12],[105,34,83,32,"action"],[105,40,83,12],[106,0,84,11],[106,13,82,10],[106,19,84,17],[107,0,85,12,"navigation"],[107,14,85,12,"navigation"],[107,24,85,22],[107,25,85,23,"resetRoot"],[107,34,85,12],[107,35,85,33,"state"],[107,40,85,12],[108,0,86,11],[109,0,87,9],[110,0,88,7],[111,0,89,5],[111,7,72,4],[113,0,91,4,"Linking"],[113,27,91,12,"addEventListener"],[113,43,91,4],[113,44,91,29],[113,49,91,4],[113,51,91,36,"listener"],[113,59,91,4],[115,0,93,4],[115,13,93,11],[116,0,93,11],[116,15,93,17,"Linking"],[116,36,93,25,"removeEventListener"],[116,55,93,17],[116,56,93,45],[116,61,93,17],[116,63,93,52,"listener"],[116,71,93,17],[116,72,93,11],[117,0,93,11],[117,7,93,4],[118,0,94,3],[118,5,71,2],[118,7,94,5],[118,8,94,6,"extractPathFromURL"],[118,26,94,5],[118,28,94,26,"ref"],[118,31,94,5],[118,32,71,2],[119,0,96,2],[119,11,96,9],[120,0,97,4,"getInitialState"],[120,6,97,4,"getInitialState"],[120,21,97,19],[120,23,97,4,"getInitialState"],[121,0,96,9],[121,5,96,2],[122,0,99,1]],"functionMap":{"names":["<global>","useLinking","React.useEffect$argument_0","<anonymous>","React.useCallback$argument_0","listener"],"mappings":"AAA;eCW;kBCQ;WCY;KDE;GDC;kBCS;GDI;+CGE;GHQ;4CGE;GHS;kBCE;qBGC;KHiB;WCI,kDD;GDC;CDK"}},"type":"js/module"}]}