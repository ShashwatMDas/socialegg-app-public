{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"./ExpoAppAuth","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.getDefaultOAuthRedirect=y,e.authAsync=function(t){return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.default.executeAsync){n.next=2;break}throw new c.UnavailabilityError('expo-app-auth','authAsync');case 2:return n.next=4,o.default.awrap(w(t));case 4:return n.abrupt(\"return\",n.sent);case 5:case\"end\":return n.stop()}},null,null,null,Promise)},e.refreshAsync=function(t,n){return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(s.default.executeAsync){u.next=2;break}throw new c.UnavailabilityError('expo-app-auth','refreshAsync');case 2:if(n){u.next=4;break}throw new c.CodedError('ERR_APP_AUTH_TOKEN','Cannot refresh with null `refreshToken`');case 4:return u.next=6,o.default.awrap(w(l({isRefresh:!0,refreshToken:n},t)));case 6:return u.abrupt(\"return\",u.sent);case 7:case\"end\":return u.stop()}},null,null,null,Promise)},e.revokeAsync=function(t,n){var s,f,l,h,w,y,b,v,O,A,_,E,P,R;return o.default.async(function(x){for(;;)switch(x.prev=x.next){case 0:if(s=t.clientId,f=t.issuer,l=t.serviceConfiguration,h=n.token,w=n.isClientIdProvided,y=void 0!==w&&w,h){x.next=4;break}throw new c.CodedError('ERR_APP_AUTH_TOKEN','Cannot revoke a null `token`');case 4:if(p(s),!l||!l.revocationEndpoint){x.next=9;break}b=l.revocationEndpoint,x.next=17;break;case 9:return x.next=11,o.default.awrap(fetch(f+\"/.well-known/openid-configuration\"));case 11:return v=x.sent,x.next=14,o.default.awrap(v.json());case 14:O=x.sent,(0,u.default)(O.revocation_endpoint,'The OpenID config does not specify a revocation endpoint'),b=O.revocation_endpoint;case 17:return A=encodeURIComponent(s),_=encodeURIComponent(h),E=\"token=\"+_+(y?\"&client_id=\"+A:''),P={'Content-Type':'application/x-www-form-urlencoded'},x.prev=21,x.next=24,o.default.awrap(fetch(b,{method:'POST',headers:P,body:E}));case 24:return R=x.sent,x.abrupt(\"return\",R);case 28:throw x.prev=28,x.t0=x.catch(21),new c.CodedError('ERR_APP_AUTH_REVOKE_FAILED',x.t0.message);case 31:case\"end\":return x.stop()}},null,null,[[21,28]],Promise)},e.URLSchemes=e.OAuthRedirect=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=r(d[3]),u=t(r(d[4])),s=t(r(d[5]));function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function l(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?f(Object(c),!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function p(t){if('string'!=typeof t||!t.length)throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','`clientId` must be a string with more than 0 characters')}function h(t){var n,o=t.issuer,u=t.redirectUrl,s=t.clientId,f=t.serviceConfiguration;if('string'!=typeof o&&(!(n=f)||'string'!=typeof n.authorizationEndpoint||'string'!=typeof n.tokenEndpoint))throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','You must provide either an `issuer` or both `authorizationEndpoint` and `tokenEndpoint`');if('string'!=typeof u)throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','`redirectUrl` must be a string');p(s)}function w(t){return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t.redirectUrl||(t.redirectUrl=y()),h(t),n.next=4,o.default.awrap(s.default.executeAsync(t));case 4:return n.abrupt(\"return\",n.sent);case 5:case\"end\":return n.stop()}},null,null,null,Promise)}function y(){return s.default.OAuthRedirect+\":/oauthredirect\"}var b=s.default.OAuthRedirect,v=s.default.URLSchemes;e.URLSchemes=v,e.OAuthRedirect=b});","lineCount":1,"map":[[1,131,33,7],[1,140,33,32,"props"],[1,143,33,7],[1,150,33,7,"_regenerator"],[1,152,33,7,"default"],[1,160,33,7,"async"],[1,166,33,7],[1,175,33,7,"_context2"],[1,178,33,7],[1,185,33,7],[1,192,33,7,"_context2"],[1,194,33,7,"prev"],[1,199,33,7,"_context2"],[1,201,33,7,"next"],[1,207,33,7],[1,212,33,7],[1,214,33,7],[1,217,34,9,"ExpoAppAuth"],[1,219,34,9,"ExpoAppAuth"],[1,227,34,21,"executeAsync"],[1,240,33,7],[1,241,33,7,"_context2"],[1,243,33,7,"next"],[1,248,33,7],[1,250,33,7],[1,256,33,7],[1,262,35,14],[1,266,35,18,"UnavailabilityError"],[1,268,35,18,"UnavailabilityError"],[1,288,35,38],[1,304,35,55],[1,317,33,7],[1,322,33,7],[1,324,33,7],[1,331,33,7,"_context2"],[1,333,33,7,"next"],[1,338,33,7],[1,340,33,7,"_regenerator"],[1,342,33,7,"default"],[1,350,33,7,"awrap"],[1,356,37,17,"_executeAsync"],[1,358,37,31,"props"],[1,362,33,7],[1,367,33,7],[1,369,33,7],[1,376,33,7,"_context2"],[1,378,33,7,"abrupt"],[1,385,33,7],[1,394,33,7,"_context2"],[1,396,33,7,"sent"],[1,402,33,7],[1,407,33,7],[1,409,33,7],[1,413,33,7],[1,419,33,7],[1,426,33,7,"_context2"],[1,428,33,7,"stop"],[1,437,33,7],[1,442,33,7],[1,447,33,7],[1,452,33,7,"Promise"],[1,477,39,7],[1,486,39,35,"props"],[1,488,39,42,"refreshToken"],[1,491,39,7],[1,498,39,7,"_regenerator"],[1,500,39,7,"default"],[1,508,39,7,"async"],[1,514,39,7],[1,523,39,7,"_context3"],[1,526,39,7],[1,533,39,7],[1,540,39,7,"_context3"],[1,542,39,7,"prev"],[1,547,39,7,"_context3"],[1,549,39,7,"next"],[1,555,39,7],[1,560,39,7],[1,562,39,7],[1,565,40,9,"ExpoAppAuth"],[1,567,40,9,"ExpoAppAuth"],[1,575,40,21,"executeAsync"],[1,588,39,7],[1,589,39,7,"_context3"],[1,591,39,7,"next"],[1,596,39,7],[1,598,39,7],[1,604,39,7],[1,610,41,14],[1,614,41,18,"UnavailabilityError"],[1,616,41,18,"UnavailabilityError"],[1,636,41,38],[1,652,41,55],[1,668,39,7],[1,673,39,7],[1,675,39,7],[1,678,43,9,"refreshToken"],[1,680,39,7],[1,681,39,7,"_context3"],[1,683,39,7,"next"],[1,688,39,7],[1,690,39,7],[1,696,39,7],[1,702,44,14],[1,706,44,18,"CodedError"],[1,708,44,18,"CodedError"],[1,719,44,29],[1,740,44,51],[1,783,39,7],[1,788,39,7],[1,790,39,7],[1,797,39,7,"_context3"],[1,799,39,7,"next"],[1,804,39,7],[1,806,39,7,"_regenerator"],[1,808,39,7,"default"],[1,816,39,7,"awrap"],[1,822,46,17,"_executeAsync"],[1,824,46,30,"_objectSpread"],[1,827,47,8,"isRefresh"],[1,838,47,19],[1,840,48,8,"refreshToken"],[1,853,48,8,"refreshToken"],[1,856,49,11,"props"],[1,861,39,7],[1,866,39,7],[1,868,39,7],[1,875,39,7,"_context3"],[1,877,39,7,"abrupt"],[1,884,39,7],[1,893,39,7,"_context3"],[1,895,39,7,"sent"],[1,901,39,7],[1,906,39,7],[1,908,39,7],[1,912,39,7],[1,918,39,7],[1,925,39,7,"_context3"],[1,927,39,7,"stop"],[1,936,39,7],[1,941,39,7],[1,946,39,7],[1,951,39,7,"Promise"],[1,975,53,7],[1,984,53,7,"_ref2"],[1,986,53,7,"_ref3"],[1,989,53,7],[1,993,53,7,"clientId"],[1,995,53,7,"issuer"],[1,997,53,7,"serviceConfiguration"],[1,999,53,7,"token"],[1,1001,53,7,"_ref3$isClientIdProvi"],[1,1003,53,7,"isClientIdProvided"],[1,1005,53,7,"revocationEndpoint"],[1,1007,53,7,"response"],[1,1009,53,7,"openidConfig"],[1,1011,53,7,"encodedClientID"],[1,1013,53,7,"encodedToken"],[1,1015,53,7,"body"],[1,1017,53,7,"headers"],[1,1019,53,7,"results"],[1,1021,53,7],[1,1028,53,7,"_regenerator"],[1,1030,53,7,"default"],[1,1038,53,7,"async"],[1,1044,53,7],[1,1053,53,7,"_context4"],[1,1056,53,7],[1,1063,53,7],[1,1070,53,7,"_context4"],[1,1072,53,7,"prev"],[1,1077,53,7,"_context4"],[1,1079,53,7,"next"],[1,1085,53,7],[1,1090,53,7],[1,1092,53,7],[1,1095,53,36,"clientId"],[1,1097,53,7,"_ref2"],[1,1099,53,36,"clientId"],[1,1108,53,46,"issuer"],[1,1110,53,7,"_ref2"],[1,1112,53,46,"issuer"],[1,1119,53,54,"serviceConfiguration"],[1,1121,53,7,"_ref2"],[1,1123,53,54,"serviceConfiguration"],[1,1144,53,80,"token"],[1,1146,53,7,"_ref3"],[1,1148,53,80,"token"],[1,1154,53,7,"_ref3$isClientIdProvi"],[1,1156,53,7,"_ref3"],[1,1158,53,87,"isClientIdProvided"],[1,1177,53,87,"isClientIdProvided"],[1,1184,53,7,"undefined"],[1,1188,53,7,"_ref3$isClientIdProvi"],[1,1191,53,7,"_ref3$isClientIdProvi"],[1,1193,54,9,"token"],[1,1195,53,7],[1,1196,53,7,"_context4"],[1,1198,53,7,"next"],[1,1203,53,7],[1,1205,53,7],[1,1211,53,7],[1,1217,55,14],[1,1221,55,18,"CodedError"],[1,1223,55,18,"CodedError"],[1,1234,55,29],[1,1255,55,51],[1,1287,53,7],[1,1292,53,7],[1,1294,53,7],[1,1297,57,4,"assertValidClientId"],[1,1299,57,24,"clientId"],[1,1303,59,8,"serviceConfiguration"],[1,1307,59,32,"serviceConfiguration"],[1,1309,59,53,"revocationEndpoint"],[1,1328,53,7],[1,1329,53,7,"_context4"],[1,1331,53,7,"next"],[1,1336,53,7],[1,1338,53,7],[1,1344,60,8,"revocationEndpoint"],[1,1346,60,29,"serviceConfiguration"],[1,1348,60,50,"revocationEndpoint"],[1,1367,53,7,"_context4"],[1,1369,53,7,"next"],[1,1374,53,7],[1,1377,53,7],[1,1383,53,7],[1,1388,53,7],[1,1390,53,7],[1,1397,53,7,"_context4"],[1,1399,53,7,"next"],[1,1404,53,7],[1,1407,53,7,"_regenerator"],[1,1409,53,7,"default"],[1,1417,53,7,"awrap"],[1,1423,64,31,"fetch"],[1,1429,64,40,"issuer"],[1,1431,64,36],[1,1469,53,7],[1,1474,53,7],[1,1477,53,7],[1,1484,64,14,"response"],[1,1486,53,7,"_context4"],[1,1488,53,7,"sent"],[1,1493,53,7,"_context4"],[1,1495,53,7,"next"],[1,1500,53,7],[1,1503,53,7,"_regenerator"],[1,1505,53,7,"default"],[1,1513,53,7,"awrap"],[1,1519,65,35,"response"],[1,1521,65,44,"json"],[1,1529,53,7],[1,1534,53,7],[1,1537,65,14,"openidConfig"],[1,1539,53,7,"_context4"],[1,1541,53,7,"sent"],[1,1547,66,8],[1,1549,66,8,"_invariant"],[1,1551,66,8,"default"],[1,1560,66,18,"openidConfig"],[1,1562,66,31,"revocation_endpoint"],[1,1582,66,52],[1,1642,67,8,"revocationEndpoint"],[1,1644,67,29,"openidConfig"],[1,1646,67,42,"revocation_endpoint"],[1,1666,53,7],[1,1671,53,7],[1,1674,53,7],[1,1681,69,10,"encodedClientID"],[1,1683,69,28,"encodeURIComponent"],[1,1702,69,47,"clientId"],[1,1705,70,10,"encodedToken"],[1,1707,70,25,"encodeURIComponent"],[1,1726,70,44,"token"],[1,1729,71,10,"body"],[1,1731,53,7],[1,1740,71,26,"encodedToken"],[1,1743,71,41,"isClientIdProvided"],[1,1745,71,59],[1,1759,71,76,"encodedClientID"],[1,1761,71,96],[1,1765,72,10,"headers"],[1,1768,72,22,"Content-Type"],[1,1783,72,38],[1,1820,53,7,"_context4"],[1,1822,53,7,"prev"],[1,1827,53,7],[1,1830,53,7,"_context4"],[1,1832,53,7,"next"],[1,1837,53,7],[1,1840,53,7,"_regenerator"],[1,1842,53,7,"default"],[1,1850,53,7,"awrap"],[1,1856,75,30,"fetch"],[1,1862,75,36,"revocationEndpoint"],[1,1865,76,12,"method"],[1,1872,76,20],[1,1879,77,12,"headers"],[1,1887,77,12,"headers"],[1,1889,78,12,"body"],[1,1894,78,12,"body"],[1,1899,53,7],[1,1904,53,7],[1,1907,53,7],[1,1914,75,14,"results"],[1,1916,53,7,"_context4"],[1,1918,53,7,"sent"],[1,1923,53,7,"_context4"],[1,1925,53,7,"abrupt"],[1,1932,53,7],[1,1941,80,15,"results"],[1,1944,53,7],[1,1949,53,7],[1,1952,53,7],[1,1958,53,7,"_context4"],[1,1960,53,7,"prev"],[1,1965,53,7],[1,1968,53,7,"_context4"],[1,1970,53,7,"t0"],[1,1973,53,7,"_context4"],[1,1975,53,7],[1,1981,53,7],[1,1985,83,14],[1,1989,83,18,"CodedError"],[1,1991,83,18,"CodedError"],[1,2002,83,29],[1,2031,83,59,"_context4"],[1,2033,83,59,"t0"],[1,2036,83,65,"message"],[1,2045,53,7],[1,2050,53,7],[1,2053,53,7],[1,2057,53,7],[1,2063,53,7],[1,2070,53,7,"_context4"],[1,2072,53,7,"stop"],[1,2081,53,7],[1,2086,53,7],[1,2093,53,7],[1,2096,53,7],[1,2101,53,7,"Promise"],[1,2177,1,0,"_core"],[1,2179,1,0,"r"],[1,2181,1,0,"d"],[1,2183,1,0],[1,2187,2,0,"_invariant"],[1,2189,2,0,"_interopRequireDefault"],[1,2191,2,0,"r"],[1,2193,2,0,"d"],[1,2195,2,0],[1,2200,3,0,"_ExpoAppAuth"],[1,2202,3,0,"_interopRequireDefault"],[1,2204,3,0,"r"],[1,2206,3,0,"d"],[1,2208,3,0],[1,2794,9,0],[1,2803,9,9,"assertValidClientId"],[1,2805,9,29,"clientId"],[1,2808,10,4],[1,2811,10,28],[1,2828,10,15,"clientId"],[1,2832,10,41,"clientId"],[1,2834,10,50,"length"],[1,2841,11,8],[1,2847,11,14],[1,2851,11,18,"CodedError"],[1,2853,11,18,"CodedError"],[1,2864,11,29],[1,2894,11,60],[1,2953,14,0],[1,2962,14,9,"assertValidProps"],[1,2964,14,0,"_ref"],[1,2967,14,84],[1,2971,4,37,"config"],[1,2973,14,28,"issuer"],[1,2975,14,84,"_ref"],[1,2977,14,28,"issuer"],[1,2984,14,36,"redirectUrl"],[1,2986,14,84,"_ref"],[1,2988,14,36,"redirectUrl"],[1,3000,14,49,"clientId"],[1,3002,14,84,"_ref"],[1,3004,14,49,"clientId"],[1,3013,14,59,"serviceConfiguration"],[1,3015,14,84,"_ref"],[1,3017,14,59,"serviceConfiguration"],[1,3038,15,4],[1,3041,15,26],[1,3058,15,15,"issuer"],[1,3064,4,37,"config"],[1,3066,15,67,"serviceConfiguration"],[1,3070,6,48],[1,3087,6,15,"config"],[1,3089,6,22,"authorizationEndpoint"],[1,3112,7,40],[1,3129,7,15,"config"],[1,3131,7,22,"tokenEndpoint"],[1,3146,16,8],[1,3152,16,14],[1,3156,16,18,"CodedError"],[1,3158,16,18,"CodedError"],[1,3169,16,29],[1,3199,16,60],[1,3290,18,4],[1,3293,18,31],[1,3310,18,15,"redirectUrl"],[1,3312,19,8],[1,3318,19,14],[1,3322,19,18,"CodedError"],[1,3324,19,18,"CodedError"],[1,3335,19,29],[1,3365,19,60],[1,3399,21,4,"assertValidClientId"],[1,3401,21,24,"clientId"],[1,3404,23,0],[1,3413,23,15,"_executeAsync"],[1,3415,23,29,"props"],[1,3418,23,0],[1,3425,23,0,"_regenerator"],[1,3427,23,0,"default"],[1,3435,23,0,"async"],[1,3441,23,0],[1,3450,23,0,"_context"],[1,3453,23,0],[1,3460,23,0],[1,3467,23,0,"_context"],[1,3469,23,0,"prev"],[1,3474,23,0,"_context"],[1,3476,23,0,"next"],[1,3482,23,0],[1,3487,23,0],[1,3489,23,0],[1,3496,24,9,"props"],[1,3498,24,15,"redirectUrl"],[1,3512,25,8,"props"],[1,3514,25,14,"redirectUrl"],[1,3526,25,28,"getDefaultOAuthRedirect"],[1,3531,27,4,"assertValidProps"],[1,3533,27,21,"props"],[1,3536,23,0,"_context"],[1,3538,23,0,"next"],[1,3543,23,0],[1,3545,23,0,"_regenerator"],[1,3547,23,0,"default"],[1,3555,23,0,"awrap"],[1,3561,28,17,"ExpoAppAuth"],[1,3563,28,17,"ExpoAppAuth"],[1,3571,28,29,"executeAsync"],[1,3584,28,42,"props"],[1,3588,23,0],[1,3593,23,0],[1,3595,23,0],[1,3602,23,0,"_context"],[1,3604,23,0,"abrupt"],[1,3611,23,0],[1,3620,23,0,"_context"],[1,3622,23,0,"sent"],[1,3628,23,0],[1,3633,23,0],[1,3635,23,0],[1,3639,23,0],[1,3645,23,0],[1,3652,23,0,"_context"],[1,3654,23,0,"stop"],[1,3663,23,0],[1,3668,23,0],[1,3673,23,0],[1,3678,23,0,"Promise"],[1,3687,30,7],[1,3696,30,16,"getDefaultOAuthRedirect"],[1,3700,31,4],[1,3707,31,14,"ExpoAppAuth"],[1,3709,31,14,"ExpoAppAuth"],[1,3717,31,26,"OAuthRedirect"],[1,3731,31,4],[1,3753,86,15,"OAuthRedirect"],[1,3755,86,45,"ExpoAppAuth"],[1,3757,86,45,"ExpoAppAuth"],[1,3765,86,15,"OAuthRedirect"],[1,3779,86,30,"URLSchemes"],[1,3781,86,45,"ExpoAppAuth"],[1,3783,86,45,"ExpoAppAuth"],[1,3791,86,30,"URLSchemes"]],"functionMap":{"names":["<global>","isValidServiceConfiguration","assertValidClientId","assertValidProps","_executeAsync","getDefaultOAuthRedirect","authAsync","refreshAsync","revokeAsync"],"mappings":"AAA;ACG;CDI;AEC;CFI;AGC;CHQ;AIC;CJM;OKC;CLE;OMC;CNK;OOC;CPY;OQE;CRgC"}},"type":"js/module"}]}