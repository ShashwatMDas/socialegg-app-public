{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"nanoid/non-secure","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _nonSecure = _$$_REQUIRE(_dependencyMap[2], \"nanoid/non-secure\");\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var BaseRouter = {\n    getStateForAction: function getStateForAction(state, action) {\n      switch (action.type) {\n        case 'SET_PARAMS':\n          {\n            var index = action.source ? state.routes.findIndex(function (r) {\n              return r.key === action.source;\n            }) : state.index;\n\n            if (index === -1) {\n              return null;\n            }\n\n            return _objectSpread({}, state, {\n              routes: state.routes.map(function (r, i) {\n                return i === index ? _objectSpread({}, r, {\n                  params: _objectSpread({}, r.params, {}, action.payload.params)\n                }) : r;\n              })\n            });\n          }\n\n        case 'RESET':\n          {\n            var nextState = action.payload;\n\n            if (nextState.routes.length === 0 || nextState.routes.some(function (route) {\n              return !state.routeNames.includes(route.name);\n            })) {\n              return null;\n            }\n\n            if (nextState.stale === false) {\n              if (state.routeNames.length !== nextState.routeNames.length || nextState.routeNames.some(function (name) {\n                return !state.routeNames.includes(name);\n              })) {\n                return null;\n              }\n\n              return _objectSpread({}, nextState, {\n                routes: nextState.routes.map(function (route) {\n                  return route.key ? route : _objectSpread({}, route, {\n                    key: route.name + \"-\" + (0, _nonSecure.nanoid)()\n                  });\n                })\n              });\n            }\n\n            return nextState;\n          }\n\n        default:\n          return null;\n      }\n    },\n    shouldActionChangeFocus: function shouldActionChangeFocus(action) {\n      return action.type === 'NAVIGATE';\n    }\n  };\n  var _default = BaseRouter;\n  exports.default = _default;\n});","lineCount":78,"map":[[11,0,1,0],[17,0,8,0],[17,6,8,6,"BaseRouter"],[17,16,8,16],[17,19,8,19],[18,0,9,2,"getStateForAction"],[18,4,9,2,"getStateForAction"],[18,21,8,19],[18,50,10,4,"state"],[18,55,8,19],[18,57,11,4,"action"],[18,63,8,19],[18,65,12,40],[19,0,13,4],[19,14,13,12,"action"],[19,20,13,18],[19,21,13,19,"type"],[19,25,13,4],[20,0,14,6],[20,13,14,11],[20,25,14,6],[21,0,14,25],[22,0,15,8],[22,16,15,14,"index"],[22,21,15,19],[22,24,15,22,"action"],[22,30,15,28],[22,31,15,29,"source"],[22,37,15,22],[22,40,16,12,"state"],[22,45,16,17],[22,46,16,18,"routes"],[22,52,16,12],[22,53,16,25,"findIndex"],[22,62,16,12],[22,63,16,35],[22,73,16,36,"r"],[22,74,16,35],[23,0,16,35],[23,21,16,42,"r"],[23,22,16,43],[23,23,16,44,"key"],[23,26,16,42],[23,31,16,52,"action"],[23,37,16,58],[23,38,16,59,"source"],[23,44,16,35],[24,0,16,35],[24,13,16,12],[24,14,15,22],[24,17,17,12,"state"],[24,22,17,17],[24,23,17,18,"index"],[24,28,15,8],[26,0,19,8],[26,16,19,12,"index"],[26,21,19,17],[26,26,19,22],[26,27,19,23],[26,28,19,8],[26,30,19,26],[27,0,20,10],[27,21,20,17],[27,25,20,10],[28,0,21,9],[30,0,23,8],[30,37,24,13,"state"],[30,42,23,8],[31,0,25,10,"routes"],[31,14,25,10,"routes"],[31,20,25,16],[31,22,25,18,"state"],[31,27,25,23],[31,28,25,24,"routes"],[31,34,25,18],[31,35,25,31,"map"],[31,38,25,18],[31,39,25,35],[31,49,25,36,"r"],[31,50,25,35],[31,52,25,39,"i"],[31,53,25,35],[32,0,25,35],[32,23,26,12,"i"],[32,24,26,13],[32,29,26,18,"index"],[32,34,26,12],[32,55,27,21,"r"],[32,56,26,12],[33,0,27,24,"params"],[33,18,27,24,"params"],[33,24,27,30],[33,44,27,37,"r"],[33,45,27,38],[33,46,27,39,"params"],[33,52,27,30],[33,58,27,50,"action"],[33,64,27,56],[33,65,27,57,"payload"],[33,72,27,50],[33,73,27,65,"params"],[33,79,27,30],[34,0,26,12],[34,21,28,16,"r"],[34,22,25,35],[35,0,25,35],[35,15,25,18],[36,0,23,8],[37,0,31,7],[39,0,33,6],[39,13,33,11],[39,20,33,6],[40,0,33,20],[41,0,34,8],[41,16,34,14,"nextState"],[41,25,34,23],[41,28,34,26,"action"],[41,34,34,32],[41,35,34,33,"payload"],[41,42,34,8],[43,0,36,8],[43,16,37,10,"nextState"],[43,25,37,19],[43,26,37,20,"routes"],[43,32,37,10],[43,33,37,27,"length"],[43,39,37,10],[43,44,37,38],[43,45,37,10],[43,49,38,10,"nextState"],[43,58,38,19],[43,59,38,20,"routes"],[43,65,38,10],[43,66,38,27,"some"],[43,70,38,10],[43,71,39,12],[43,81,39,13,"route"],[43,86,39,12],[44,0,39,12],[44,21,39,41],[44,22,39,42,"state"],[44,27,39,47],[44,28,39,48,"routeNames"],[44,38,39,42],[44,39,39,59,"includes"],[44,47,39,42],[44,48,39,68,"route"],[44,53,39,73],[44,54,39,74,"name"],[44,58,39,42],[44,59,39,12],[45,0,39,12],[45,13,38,10],[45,14,36,8],[45,16,41,10],[46,0,42,10],[46,21,42,17],[46,25,42,10],[47,0,43,9],[49,0,45,8],[49,16,45,12,"nextState"],[49,25,45,21],[49,26,45,22,"stale"],[49,31,45,12],[49,36,45,32],[49,41,45,8],[49,43,45,39],[50,0,46,10],[50,18,47,12,"state"],[50,23,47,17],[50,24,47,18,"routeNames"],[50,34,47,12],[50,35,47,29,"length"],[50,41,47,12],[50,46,47,40,"nextState"],[50,55,47,49],[50,56,47,50,"routeNames"],[50,66,47,40],[50,67,47,61,"length"],[50,73,47,12],[50,77,48,12,"nextState"],[50,86,48,21],[50,87,48,22,"routeNames"],[50,97,48,12],[50,98,48,33,"some"],[50,102,48,12],[50,103,49,14],[50,113,49,15,"name"],[50,117,49,14],[51,0,49,14],[51,23,49,24],[51,24,49,25,"state"],[51,29,49,30],[51,30,49,31,"routeNames"],[51,40,49,25],[51,41,49,42,"includes"],[51,49,49,25],[51,50,49,51,"name"],[51,54,49,25],[51,55,49,14],[52,0,49,14],[52,15,48,12],[52,16,46,10],[52,18,51,12],[53,0,52,12],[53,23,52,19],[53,27,52,12],[54,0,53,11],[56,0,55,10],[56,39,56,15,"nextState"],[56,48,55,10],[57,0,57,12,"routes"],[57,16,57,12,"routes"],[57,22,57,18],[57,24,57,20,"nextState"],[57,33,57,29],[57,34,57,30,"routes"],[57,40,57,20],[57,41,57,37,"map"],[57,44,57,20],[57,45,57,41],[57,55,57,42,"route"],[57,60,57,41],[58,0,57,41],[58,25,58,14,"route"],[58,30,58,19],[58,31,58,20,"key"],[58,34,58,14],[58,37,58,26,"route"],[58,42,58,14],[58,63,58,39,"route"],[58,68,58,14],[59,0,58,46,"key"],[59,20,58,46,"key"],[59,23,58,49],[59,25,58,54,"route"],[59,30,58,59],[59,31,58,60,"name"],[59,35,58,49],[59,44,58,68],[60,0,58,14],[60,20,57,41],[61,0,57,41],[61,17,57,20],[62,0,55,10],[63,0,61,9],[65,0,63,8],[65,19,63,15,"nextState"],[65,28,63,8],[66,0,64,7],[68,0,66,6],[69,0,67,8],[69,17,67,15],[69,21,67,8],[70,0,13,4],[71,0,69,3],[71,5,8,19],[72,0,71,2,"shouldActionChangeFocus"],[72,4,71,2,"shouldActionChangeFocus"],[72,27,8,19],[72,62,71,26,"action"],[72,68,8,19],[72,70,71,58],[73,0,72,4],[73,13,72,11,"action"],[73,19,72,17],[73,20,72,18,"type"],[73,24,72,11],[73,29,72,27],[73,39,72,4],[74,0,73,3],[75,0,8,19],[75,3,8,0],[76,17,76,15,"BaseRouter"],[76,27]],"functionMap":{"names":["<global>","getStateForAction","state.routes.findIndex$argument_0","state.routes.map$argument_0","nextState.routes.some$argument_0","nextState.routeNames.some$argument_0","nextState.routes.map$argument_0","shouldActionChangeFocus"],"mappings":"AAA;ECQ;mCCO,8BD;mCES;iBFG;YGW,mEH;cIU,0CJ;yCKQ;gFLC;GDW;EOE;GPE"}},"type":"js/module"}]}