{"dependencies":[{"name":"../BatchedBridge/BatchedBridge","data":{"isAsync":false}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false}},{"name":"./TaskQueue","data":{"isAsync":false}},{"name":"../Utilities/infoLog","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"fbjs/lib/keyMirror","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=(r(d[3]),r(d[4])),s=r(d[5]),u=new t,l={Events:s({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){k(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),h.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){h.cancelTasks(t)}}},createInteractionHandle:function(){k();var n=++T;return p.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),k(),p.delete(n),v.add(n)},addListener:u.addListener.bind(u),setDeadline:function(n){E=n}},f=new Set,p=new Set,v=new Set,h=new o({onMoreTasks:k}),w=0,T=0,E=-1;function k(){w||(w=E>0?setTimeout(I,0):setImmediate(I))}function I(){w=0;var t=f.size;p.forEach(function(n){return f.add(n)}),v.forEach(function(n){return f.delete(n)});var o=f.size;if(0!==t&&0===o?u.emit(l.Events.interactionComplete):0===t&&0!==o&&u.emit(l.Events.interactionStart),0===o)for(;h.hasTasksToProcess();)if(h.processNext(),E>0&&n.getEventLoopRunningTime()>=E){k();break}p.clear(),v.clear()}m.exports=l});","lineCount":1,"map":[[1,28,11,0],[1,41,13,0],[1,45,13,6,"BatchedBridge"],[1,47,13,22,"require"],[1,49,13,29,"d"],[1,51,13,29],[1,55,14,6,"EventEmitter"],[1,57,14,21,"require"],[1,59,14,28,"d"],[1,61,14,28],[1,65,15,6,"TaskQueue"],[1,67,15,18,"require"],[1,69,15,25,"d"],[1,71,15,25],[1,75,18,6,"invariant"],[1,78,17,16,"require"],[1,80,17,23,"d"],[1,82,17,23],[1,86,18,18,"require"],[1,88,18,25,"d"],[1,90,18,25],[1,95,19,6,"keyMirror"],[1,97,19,18,"require"],[1,99,19,25,"d"],[1,101,19,25],[1,105,24,6,"_emitter"],[1,107,24,17],[1,111,24,21,"EventEmitter"],[1,113,78,6,"InteractionManager"],[1,116,79,2,"Events"],[1,123,79,10,"keyMirror"],[1,126,80,4,"interactionStart"],[1,144,80,22],[1,146,81,4,"interactionComplete"],[1,167,81,25],[1,171,88,2,"runAfterInteractions"],[1,192,78,27],[1,201,89,4,"task"],[1,204,91,4],[1,208,91,10,"tasks"],[1,213,92,10,"promise"],[1,215,92,20],[1,219,92,24,"Promise"],[1,227,92,32],[1,236,92,32,"resolve"],[1,239,93,6,"_scheduleUpdate"],[1,243,94,10,"task"],[1,246,95,8,"tasks"],[1,248,95,14,"push"],[1,253,95,19,"task"],[1,256,97,6,"tasks"],[1,258,97,12,"push"],[1,264,98,8,"run"],[1,268,98,13,"resolve"],[1,270,99,8,"name"],[1,275,99,14],[1,287,99,29,"task"],[1,290,99,37,"task"],[1,292,99,42,"name"],[1,298,99,51],[1,305,101,6,"_taskQueue"],[1,307,101,17,"enqueueTasks"],[1,320,101,30,"tasks"],[1,325,103,4],[1,332,104,6,"then"],[1,337,104,12,"promise"],[1,339,104,20,"then"],[1,344,104,25,"bind"],[1,349,104,30,"promise"],[1,352,105,6,"done"],[1,357,105,12],[1,368,106,8],[1,371,106,12,"promise"],[1,373,106,20,"done"],[1,378,107,10],[1,385,107,17,"promise"],[1,387,107,25,"done"],[1,392,107,17,"apply"],[1,398,107,17,"promise"],[1,400,107,24,"arguments"],[1,411,109,10,"console"],[1,419,109,18,"warn"],[1,424,110,12],[1,501,114,6,"cancel"],[1,508,114,14],[1,519,115,8,"_taskQueue"],[1,521,115,19,"cancelTasks"],[1,533,115,31,"tasks"],[1,539,123,2,"createInteractionHandle"],[1,563,78,27],[1,574,125,4,"_scheduleUpdate"],[1,578,126,4],[1,582,126,10,"handle"],[1,586,126,21,"_inc"],[1,588,128,4],[1,595,127,4,"_addInteractionSet"],[1,597,127,23,"add"],[1,601,127,27,"handle"],[1,604,128,11,"handle"],[1,607,134,2,"clearInteractionHandle"],[1,630,78,27],[1,639,134,25,"handle"],[1,642,136,4,"invariant"],[1,646,136,16,"handle"],[1,648,136,24],[1,703,137,4,"_scheduleUpdate"],[1,707,138,4,"_addInteractionSet"],[1,709,138,23,"delete"],[1,716,138,30,"handle"],[1,719,139,4,"_deleteInteractionSet"],[1,721,139,26,"add"],[1,725,139,30,"handle"],[1,729,142,2,"addListener"],[1,741,142,16,"_emitter"],[1,743,142,25,"addListener"],[1,755,142,37,"bind"],[1,760,142,42,"_emitter"],[1,763,149,2,"setDeadline"],[1,775,78,27],[1,784,149,14,"deadline"],[1,787,150,4,"_deadline"],[1,789,150,16,"deadline"],[1,793,154,6,"_interactionSet"],[1,795,154,24],[1,799,154,28,"Set"],[1,803,155,6,"_addInteractionSet"],[1,805,155,27],[1,809,155,31,"Set"],[1,813,156,6,"_deleteInteractionSet"],[1,815,156,30],[1,819,156,34,"Set"],[1,823,157,6,"_taskQueue"],[1,825,157,19],[1,829,157,23,"TaskQueue"],[1,832,157,34,"onMoreTasks"],[1,844,157,47,"_scheduleUpdate"],[1,848,158,4,"_nextUpdateHandle"],[1,850,158,24],[1,852,159,4,"_inc"],[1,854,159,11],[1,856,160,4,"_deadline"],[1,859,160,13],[1,861,167,0],[1,870,167,9,"_scheduleUpdate"],[1,874,168,7,"_nextUpdateHandle"],[1,878,173,6,"_nextUpdateHandle"],[1,880,169,8,"_deadline"],[1,882,169,20],[1,884,173,26,"setTimeout"],[1,895,173,37,"_processUpdate"],[1,897,173,36],[1,900,175,26,"setImmediate"],[1,913,175,39,"_processUpdate"],[1,917,183,0],[1,926,183,9,"_processUpdate"],[1,930,184,2,"_nextUpdateHandle"],[1,932,184,22],[1,934,186,2],[1,938,186,8,"interactionCount"],[1,940,186,27,"_interactionSet"],[1,942,186,43,"size"],[1,947,187,2,"_addInteractionSet"],[1,949,187,21,"forEach"],[1,957,187,29],[1,966,187,29,"handle"],[1,969,187,35],[1,976,187,39,"_interactionSet"],[1,978,187,55,"add"],[1,982,187,59,"handle"],[1,987,188,2,"_deleteInteractionSet"],[1,989,188,24,"forEach"],[1,997,188,32],[1,1006,188,32,"handle"],[1,1009,188,38],[1,1016,188,42,"_interactionSet"],[1,1018,188,58,"delete"],[1,1025,188,65,"handle"],[1,1030,189,2],[1,1034,189,8,"nextInteractionCount"],[1,1036,189,31,"_interactionSet"],[1,1038,189,47,"size"],[1,1043,200,2],[1,1046,191,27],[1,1050,191,6,"interactionCount"],[1,1053,191,57],[1,1057,191,32,"nextInteractionCount"],[1,1059,193,4,"_emitter"],[1,1061,193,13,"emit"],[1,1066,193,18,"InteractionManager"],[1,1068,193,37,"Events"],[1,1075,193,44,"interactionComplete"],[1,1096,194,34],[1,1100,194,13,"interactionCount"],[1,1103,194,64],[1,1107,194,39,"nextInteractionCount"],[1,1110,196,4,"_emitter"],[1,1112,196,13,"emit"],[1,1117,196,18,"InteractionManager"],[1,1119,196,37,"Events"],[1,1126,196,44,"interactionStart"],[1,1144,200,31],[1,1148,200,6,"nextInteractionCount"],[1,1150,201,4],[1,1155,201,11,"_taskQueue"],[1,1157,201,22,"hasTasksToProcess"],[1,1178,203,6],[1,1181,202,6,"_taskQueue"],[1,1183,202,17,"processNext"],[1,1197,204,8,"_deadline"],[1,1199,204,20],[1,1202,205,8,"BatchedBridge"],[1,1204,205,22,"getEventLoopRunningTime"],[1,1231,205,51,"_deadline"],[1,1233,206,8],[1,1234,208,8,"_scheduleUpdate"],[1,1238,209,8],[1,1244,213,2,"_addInteractionSet"],[1,1246,213,21,"clear"],[1,1254,214,2,"_deleteInteractionSet"],[1,1256,214,24,"clear"],[1,1264,217,0,"module"],[1,1266,217,7,"exports"],[1,1274,217,17,"InteractionManager"]],"functionMap":{"names":["<global>","runAfterInteractions","Promise$argument_0","done","cancel","createInteractionHandle","clearInteractionHandle","setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;ECuF;gCCI;KDU;YEG;OFQ;cGC;OHE;GDE;EKK;GLM;EMK;GNM;EOS;GPE;AQgB;CRW;ASK;6BCI,qCD;gCEC,wCF;CT2B"}},"type":"js/module"}]}