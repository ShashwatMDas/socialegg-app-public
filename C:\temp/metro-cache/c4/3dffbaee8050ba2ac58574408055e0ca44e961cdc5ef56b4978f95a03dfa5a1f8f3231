{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"./AssetRegistry","data":{"isAsync":false}},{"name":"./AssetSources","data":{"isAsync":false}},{"name":"./AssetUris","data":{"isAsync":false}},{"name":"./EmbeddedAssets","data":{"isAsync":false}},{"name":"./ImageAssets","data":{"isAsync":false}},{"name":"./PlatformUtils","data":{"isAsync":false}},{"name":"./resolveAssetSource","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.Asset=void 0;var s=n(r(d[2])),h=n(r(d[3])),o=n(r(d[4])),l=r(d[5]),u=r(d[6]),c=t(r(d[7])),f=t(r(d[8])),w=r(d[9]),y=t(r(d[10])),b=r(d[11]),p=n(r(d[12])),v=(function(){function t(n){var s=n.name,o=n.type,u=n.hash,c=void 0===u?null:u,y=n.uri,b=n.width,p=n.height;(0,h.default)(this,t),this.hash=null,this.localUri=null,this.width=null,this.height=null,this.downloading=!1,this.downloaded=!1,this._downloadCallbacks=[],this.name=s,this.type=o,this.hash=c,this.uri=y,'number'==typeof b&&(this.width=b),'number'==typeof p&&(this.height=p),c&&(this.localUri=(0,w.getEmbeddedAssetUri)(c,o),this.localUri&&(this.downloaded=!0)),'web'===l.Platform.OS&&(s||(this.name=f.getFilename(y)),o||(this.type=f.getFileExtension(y)))}return(0,o.default)(t,[{key:\"downloadAsync\",value:function(){var t,n,h,o,u=this;return s.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.downloaded){c.next=2;break}return c.abrupt(\"return\");case 2:if(!this.downloading){c.next=6;break}return c.next=5,s.default.awrap(new Promise(function(t,n){u._downloadCallbacks.push({resolve:t,reject:n})}));case 5:return c.abrupt(\"return\");case 6:if(this.downloading=!0,c.prev=7,'web'!==l.Platform.OS){c.next=22;break}if(!y.isImageType(this.type)){c.next=21;break}return c.next=12,s.default.awrap(y.getImageInfoAsync(this.uri));case 12:t=c.sent,n=t.width,h=t.height,o=t.name,this.width=n,this.height=h,this.name=o,c.next=22;break;case 21:this.name=f.getFilename(this.uri);case 22:return c.next=24,s.default.awrap((0,b.downloadAsync)(this.uri,this.hash,this.type,this.name));case 24:this.localUri=c.sent,this.downloaded=!0,this._downloadCallbacks.forEach(function(t){return(0,t.resolve)()}),c.next=33;break;case 29:throw c.prev=29,c.t0=c.catch(7),this._downloadCallbacks.forEach(function(t){return(0,t.reject)(c.t0)}),c.t0;case 33:return c.prev=33,this.downloading=!1,this._downloadCallbacks=[],c.finish(33);case 37:case\"end\":return c.stop()}},null,this,[[7,29,33,37]],Promise)}}],[{key:\"loadAsync\",value:function(n){var s=Array.isArray(n)?n:[n];return Promise.all(s.map(function(n){return t.fromModule(n).downloadAsync()}))}},{key:\"fromModule\",value:function(n){if('string'==typeof n)return t.fromURI(n);var s=(0,u.getAssetByID)(n);if(!s)throw new Error(\"Module \\\"\"+n+\"\\\" is missing from the asset registry\");if(!b.IS_ENV_WITH_UPDATES_ENABLED){var h=(0,p.default)(n).uri,o=new t({name:s.name,type:s.type,hash:s.hash,uri:h,width:s.width,height:s.height});return'android'!==l.Platform.OS||h.includes(':')||!s.width&&!s.height||(o.localUri=o.uri,o.downloaded=!0),t.byHash[s.hash]=o,o}return t.fromMetadata(s)}},{key:\"fromMetadata\",value:function(n){var s=n.hash;if(t.byHash[s])return t.byHash[s];var h=c.selectAssetSource(n),o=h.uri,l=h.hash,u=new t({name:n.name,type:n.type,hash:l,uri:o,width:n.width,height:n.height});return t.byHash[s]=u,u}},{key:\"fromURI\",value:function(n){if(t.byUri[n])return t.byUri[n];var s='';if(n.indexOf(';base64')>-1)s=n.split(';')[0].split('/')[1];else{var h=f.getFileExtension(n);s=h.startsWith('.')?h.substring(1):h}var o=new t({name:'',type:s,hash:null,uri:n});return t.byUri[n]=o,o}}]),t})();e.Asset=v,v.byHash={},v.byUri={}});","lineCount":1,"map":[[1,159,1,0,"_core"],[1,161,1,0,"r"],[1,163,1,0,"d"],[1,165,1,0],[1,169,2,0,"_AssetRegistry"],[1,171,2,0,"r"],[1,173,2,0,"d"],[1,175,2,0],[1,179,3,0,"AssetSources"],[1,181,3,0,"_interopRequireWildcard"],[1,183,3,0,"r"],[1,185,3,0,"d"],[1,187,3,0],[1,192,4,0,"AssetUris"],[1,194,4,0,"_interopRequireWildcard"],[1,196,4,0,"r"],[1,198,4,0,"d"],[1,200,4,0],[1,205,5,0,"_EmbeddedAssets"],[1,207,5,0,"r"],[1,209,5,0,"d"],[1,211,5,0],[1,215,6,0,"ImageAssets"],[1,217,6,0,"_interopRequireWildcard"],[1,219,6,0,"r"],[1,221,6,0,"d"],[1,223,6,0],[1,229,7,0,"_PlatformUtils"],[1,231,7,0,"r"],[1,233,7,0,"d"],[1,235,7,0],[1,240,8,0,"_resolveAssetSource2"],[1,242,8,0,"_interopRequireDefault"],[1,244,8,0,"r"],[1,246,8,0,"d"],[1,248,8,0],[1,254,9,13,"Asset"],[1,268,10,4],[1,277,10,4,"Asset"],[1,279,10,4,"_ref"],[1,282,10,65],[1,286,10,18,"name"],[1,288,10,65,"_ref"],[1,290,10,18,"name"],[1,295,10,24,"type"],[1,297,10,65,"_ref"],[1,299,10,24,"type"],[1,304,10,65,"_ref$hash"],[1,306,10,65,"_ref"],[1,308,10,30,"hash"],[1,313,10,30,"hash"],[1,320,10,65,"undefined"],[1,324,10,65,"_ref$hash"],[1,326,10,37],[1,331,10,65,"_ref$hash"],[1,333,10,43,"uri"],[1,335,10,65,"_ref"],[1,337,10,43,"uri"],[1,341,10,48,"width"],[1,343,10,65,"_ref"],[1,345,10,48,"width"],[1,351,10,55,"height"],[1,353,10,65,"_ref"],[1,355,10,55,"height"],[1,363,10,65],[1,365,10,65,"_classCallCheck2"],[1,367,10,65,"default"],[1,376,10,65,"this"],[1,381,10,65,"Asset"],[1,384,11,8,"this"],[1,389,11,13,"hash"],[1,394,11,20],[1,399,12,8,"this"],[1,404,12,13,"localUri"],[1,413,12,24],[1,418,13,8,"this"],[1,423,13,13,"width"],[1,429,13,21],[1,434,14,8,"this"],[1,439,14,13,"height"],[1,446,14,22],[1,451,15,8,"this"],[1,456,15,13,"downloading"],[1,469,15,27],[1,471,16,8,"this"],[1,476,16,13,"downloaded"],[1,488,16,26],[1,490,17,8,"this"],[1,495,17,13,"_downloadCallbacks"],[1,517,18,8,"this"],[1,522,18,13,"name"],[1,527,18,20,"name"],[1,529,19,8,"this"],[1,534,19,13,"type"],[1,539,19,20,"type"],[1,541,20,8,"this"],[1,546,20,13,"hash"],[1,551,20,20,"hash"],[1,553,21,8,"this"],[1,558,21,13,"uri"],[1,562,21,19,"uri"],[1,564,22,29],[1,581,22,19,"width"],[1,585,23,12,"this"],[1,590,23,17,"width"],[1,596,23,25,"width"],[1,599,25,30],[1,616,25,19,"height"],[1,620,26,12,"this"],[1,625,26,17,"height"],[1,632,26,26,"height"],[1,635,28,12,"hash"],[1,639,29,12,"this"],[1,644,29,17,"localUri"],[1,654,29,28],[1,656,29,28,"_EmbeddedAssets"],[1,658,29,28,"getEmbeddedAssetUri"],[1,679,29,48,"hash"],[1,681,29,54,"type"],[1,684,30,16,"this"],[1,689,30,21,"localUri"],[1,700,31,16,"this"],[1,705,31,21,"downloaded"],[1,717,31,34],[1,721,34,28],[1,729,34,12,"Platform"],[1,731,34,12,"Platform"],[1,740,34,21,"OS"],[1,745,35,17,"name"],[1,749,36,16,"this"],[1,754,36,21,"name"],[1,759,36,28,"AssetUris"],[1,761,36,38,"getFilename"],[1,773,36,50,"uri"],[1,777,38,17,"type"],[1,781,39,16,"this"],[1,786,39,21,"type"],[1,791,39,28,"AssetUris"],[1,793,39,38,"getFileExtension"],[1,810,39,55,"uri"],[1,970,122,12,"this"],[1,975,122,17,"downloaded"],[1,1039,125,12,"this"],[1,1044,125,17,"downloading"],[1,1104,126,18],[1,1108,126,22,"Promise"],[1,1116,126,30],[1,1125,126,31,"resolve"],[1,1127,126,40,"reject"],[1,1130,127,16,"_this"],[1,1132,127,21,"_downloadCallbacks"],[1,1151,127,40,"push"],[1,1157,127,47,"resolve"],[1,1165,127,47,"resolve"],[1,1167,127,56,"reject"],[1,1174,127,56,"reject"],[1,1224,131,8,"this"],[1,1229,131,13,"downloading"],[1,1242,131,27],[1,1253,133,32],[1,1261,133,16,"Platform"],[1,1263,133,16,"Platform"],[1,1272,133,25,"OS"],[1,1296,134,20,"ImageAssets"],[1,1298,134,32,"isImageType"],[1,1310,134,44,"this"],[1,1315,134,49,"type"],[1,1371,135,58,"ImageAssets"],[1,1373,135,70,"getImageInfoAsync"],[1,1391,135,88,"this"],[1,1396,135,93,"uri"],[1,1419,135,28,"width"],[1,1423,135,28,"width"],[1,1429,135,35,"height"],[1,1433,135,35,"height"],[1,1440,135,43,"name"],[1,1444,135,43,"name"],[1,1449,136,20,"this"],[1,1454,136,25,"width"],[1,1460,136,33,"width"],[1,1462,137,20,"this"],[1,1467,137,25,"height"],[1,1474,137,34,"height"],[1,1476,138,20,"this"],[1,1481,138,25,"name"],[1,1486,138,32,"name"],[1,1512,141,20,"this"],[1,1517,141,25,"name"],[1,1522,141,32,"AssetUris"],[1,1524,141,42,"getFilename"],[1,1536,141,54,"this"],[1,1541,141,59,"uri"],[1,1588,144,34],[1,1590,144,34,"_PlatformUtils"],[1,1592,144,34,"downloadAsync"],[1,1607,144,48,"this"],[1,1612,144,53,"uri"],[1,1616,144,58,"this"],[1,1621,144,63,"hash"],[1,1626,144,69,"this"],[1,1631,144,74,"type"],[1,1636,144,80,"this"],[1,1641,144,85,"name"],[1,1656,144,12,"this"],[1,1661,144,17,"localUri"],[1,1677,145,12,"this"],[1,1682,145,17,"downloaded"],[1,1694,145,30],[1,1696,146,12,"this"],[1,1701,146,17,"_downloadCallbacks"],[1,1720,146,36,"forEach"],[1,1728,146,44],[1,1737,146,44,"_ref2"],[1,1740,146,44],[1,1747,146,61,"resolve"],[1,1749,146,44,"_ref2"],[1,1751,146,47,"resolve"],[1,1820,149,12,"this"],[1,1825,149,17,"_downloadCallbacks"],[1,1844,149,36,"forEach"],[1,1852,149,44],[1,1861,149,44,"_ref3"],[1,1864,149,44],[1,1871,149,60,"reject"],[1,1873,149,44,"_ref3"],[1,1875,149,47,"reject"],[1,1883,149,66,"_context"],[1,1885,149,66,"t0"],[1,1921,153,12,"this"],[1,1926,153,17,"downloading"],[1,1939,153,31],[1,1941,154,12,"this"],[1,1946,154,17,"_downloadCallbacks"],[1,2087,43,21,"moduleId"],[1,2090,44,8],[1,2094,44,14,"moduleIds"],[1,2096,44,26,"Array"],[1,2102,44,32,"isArray"],[1,2110,44,40,"moduleId"],[1,2113,44,52,"moduleId"],[1,2116,44,64,"moduleId"],[1,2119,45,8],[1,2126,45,15,"Promise"],[1,2134,45,23,"all"],[1,2138,45,27,"moduleIds"],[1,2140,45,37,"map"],[1,2144,45,41],[1,2153,45,41,"moduleId"],[1,2156,45,49],[1,2163,45,53,"Asset"],[1,2165,45,59,"fromModule"],[1,2176,45,70,"moduleId"],[1,2179,45,80,"downloadAsync"],[1,2233,47,22,"virtualAssetModule"],[1,2236,48,8],[1,2239,48,42],[1,2256,48,19,"virtualAssetModule"],[1,2258,49,12],[1,2265,49,19,"Asset"],[1,2267,49,25,"fromURI"],[1,2275,49,33,"virtualAssetModule"],[1,2278,51,8],[1,2282,51,14,"meta"],[1,2285,51,21],[1,2287,51,21,"_AssetRegistry"],[1,2289,51,21,"getAssetByID"],[1,2303,51,34,"virtualAssetModule"],[1,2306,52,8],[1,2310,52,13,"meta"],[1,2312,53,12],[1,2318,53,18],[1,2322,53,22,"Error"],[1,2328,53,18],[1,2340,53,39,"virtualAssetModule"],[1,2342,53,18],[1,2383,57,8],[1,2387,57,13,"IS_ENV_WITH_UPDATES_ENABLED"],[1,2389,57,13,"IS_ENV_WITH_UPDATES_ENABLED"],[1,2417,57,42],[1,2418,57,42],[1,2422,58,20,"uri"],[1,2425,58,28],[1,2427,58,28,"_resolveAssetSource2"],[1,2429,58,28,"default"],[1,2438,58,47,"virtualAssetModule"],[1,2441,58,20,"uri"],[1,2445,59,18,"asset"],[1,2447,59,26],[1,2451,59,30,"Asset"],[1,2454,60,16,"name"],[1,2459,60,22,"meta"],[1,2461,60,27,"name"],[1,2466,61,16,"type"],[1,2471,61,22,"meta"],[1,2473,61,27,"type"],[1,2478,62,16,"hash"],[1,2483,62,22,"meta"],[1,2485,62,27,"hash"],[1,2490,63,16,"uri"],[1,2494,63,16,"uri"],[1,2496,64,16,"width"],[1,2502,64,23,"meta"],[1,2504,64,28,"width"],[1,2510,65,16,"height"],[1,2517,65,24,"meta"],[1,2519,65,29,"height"],[1,2528,76,12],[1,2534,71,32],[1,2546,71,16,"Platform"],[1,2548,71,16,"Platform"],[1,2557,71,25,"OS"],[1,2561,71,46,"uri"],[1,2563,71,50,"includes"],[1,2572,71,59],[1,2579,71,68,"meta"],[1,2581,71,73,"width"],[1,2589,71,82,"meta"],[1,2591,71,87,"height"],[1,2600,72,16,"asset"],[1,2602,72,22,"localUri"],[1,2611,72,33,"asset"],[1,2613,72,39,"uri"],[1,2617,73,16,"asset"],[1,2619,73,22,"downloaded"],[1,2631,73,35],[1,2634,75,12,"Asset"],[1,2636,75,18,"byHash"],[1,2643,75,25,"meta"],[1,2645,75,30,"hash"],[1,2651,75,38,"asset"],[1,2653,76,19,"asset"],[1,2655,78,8],[1,2662,78,15,"Asset"],[1,2664,78,21,"fromMetadata"],[1,2677,78,34,"meta"],[1,2717,80,24,"meta"],[1,2720,83,8],[1,2724,83,14,"metaHash"],[1,2726,83,25,"meta"],[1,2728,83,30,"hash"],[1,2733,84,8],[1,2736,84,12,"Asset"],[1,2738,84,18,"byHash"],[1,2745,84,25,"metaHash"],[1,2748,85,12],[1,2755,85,19,"Asset"],[1,2757,85,25,"byHash"],[1,2764,85,32,"metaHash"],[1,2767,80,30],[1,2771,80,30,"_AssetSources$selectA"],[1,2773,87,30,"AssetSources"],[1,2775,87,43,"selectAssetSource"],[1,2793,87,61,"meta"],[1,2796,87,16,"uri"],[1,2798,80,30,"_AssetSources$selectA"],[1,2800,87,16,"uri"],[1,2804,87,21,"hash"],[1,2806,80,30,"_AssetSources$selectA"],[1,2808,87,21,"hash"],[1,2813,88,14,"asset"],[1,2815,88,22],[1,2819,88,26,"Asset"],[1,2822,89,12,"name"],[1,2827,89,18,"meta"],[1,2829,89,23,"name"],[1,2834,90,12,"type"],[1,2839,90,18,"meta"],[1,2841,90,23,"type"],[1,2846,91,12,"hash"],[1,2851,91,12,"hash"],[1,2853,92,12,"uri"],[1,2857,92,12,"uri"],[1,2859,93,12,"width"],[1,2865,93,19,"meta"],[1,2867,93,24,"width"],[1,2873,94,12,"height"],[1,2880,94,20,"meta"],[1,2882,94,25,"height"],[1,2891,97,8],[1,2898,96,8,"Asset"],[1,2900,96,14,"byHash"],[1,2907,96,21,"metaHash"],[1,2910,96,33,"asset"],[1,2912,97,15,"asset"],[1,2946,99,19,"uri"],[1,2949,100,8],[1,2952,100,12,"Asset"],[1,2954,100,18,"byUri"],[1,2960,100,24,"uri"],[1,2963,101,12],[1,2970,101,19,"Asset"],[1,2972,101,25,"byUri"],[1,2978,101,31,"uri"],[1,2981,104,8],[1,2985,104,12,"type"],[1,2987,104,19],[1,2990,105,8],[1,2993,105,12,"uri"],[1,2995,105,16,"indexOf"],[1,3003,105,24],[1,3015,105,12],[1,3017,106,12,"type"],[1,3019,106,19,"uri"],[1,3021,106,23,"split"],[1,3027,106,29],[1,3032,106,34],[1,3035,106,37,"split"],[1,3041,106,43],[1,3046,106,48],[1,3053,108,13],[1,3054,109,12],[1,3058,109,18,"extension"],[1,3060,109,30,"AssetUris"],[1,3062,109,40,"getFileExtension"],[1,3079,109,57,"uri"],[1,3082,110,12,"type"],[1,3084,110,19,"extension"],[1,3086,110,29,"startsWith"],[1,3097,110,40],[1,3102,110,47,"extension"],[1,3104,110,57,"substring"],[1,3114,110,67],[1,3117,110,72,"extension"],[1,3119,112,8],[1,3123,112,14,"asset"],[1,3125,112,22],[1,3129,112,26,"Asset"],[1,3132,113,12,"name"],[1,3137,113,18],[1,3140,114,12,"type"],[1,3145,114,12,"type"],[1,3147,115,12,"hash"],[1,3152,115,18],[1,3157,116,12,"uri"],[1,3161,116,12,"uri"],[1,3165,119,8],[1,3172,118,8,"Asset"],[1,3174,118,14,"byUri"],[1,3180,118,20,"uri"],[1,3183,118,27,"asset"],[1,3185,119,15,"asset"],[1,3207,158,0,"Asset"],[1,3209,158,6,"byHash"],[1,3219,159,0,"Asset"],[1,3221,159,6,"byUri"]],"functionMap":{"names":["<global>","Asset","constructor","loadAsync","moduleIds.map$argument_0","fromModule","fromMetadata","fromURI","downloadAsync","Promise$argument_0","_downloadCallbacks.forEach$argument_0"],"mappings":"AAA;OCQ;ICC;KDgC;IEC;yCCE,sDD;KFC;IIC;KJgC;IKC;KLkB;IMC;KNqB;IOC;8BCK;aDE;4CEkB,0BF;4CEG,yBF;KPO;CDC"}},"type":"js/module"}]}