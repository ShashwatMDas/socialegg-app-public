{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"@react-navigation/routers","data":{"isAsync":false}},{"name":"./NavigationContext","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useNavigationCache;\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[4], \"react\"));\n\n  var _routers = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/routers\");\n\n  var _NavigationContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NavigationContext\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useNavigationCache(_ref) {\n    var state = _ref.state,\n        getState = _ref.getState,\n        navigation = _ref.navigation,\n        _setOptions = _ref.setOptions,\n        router = _ref.router,\n        emitter = _ref.emitter;\n    var parentNavigation = React.useContext(_NavigationContext.default);\n    var cache = React.useMemo(function () {\n      return {\n        current: {}\n      };\n    }, [getState, navigation, _setOptions, router, emitter, parentNavigation]);\n\n    var actions = _objectSpread({}, router.actionCreators, {}, _routers.CommonActions);\n\n    cache.current = state.routes.reduce(function (acc, route) {\n      var previous = cache.current[route.key];\n\n      if (previous) {\n        acc[route.key] = previous;\n      } else {\n        var emit = navigation.emit,\n            rest = (0, _objectWithoutProperties2.default)(navigation, [\"emit\"]);\n\n        var dispatch = function dispatch(action) {\n          var payload = typeof action === 'function' ? action(getState()) : action;\n          navigation.dispatch(typeof payload === 'object' && payload != null ? _objectSpread({\n            source: route.key\n          }, payload) : payload);\n        };\n\n        var helpers = Object.keys(actions).reduce(function (acc, name) {\n          acc[name] = function () {\n            return dispatch(actions[name].apply(actions, arguments));\n          };\n\n          return acc;\n        }, {});\n        acc[route.key] = _objectSpread({}, rest, {}, helpers, {}, emitter.create(route.key), {\n          dangerouslyGetParent: function dangerouslyGetParent() {\n            return parentNavigation;\n          },\n          dangerouslyGetState: getState,\n          dispatch: dispatch,\n          setOptions: function setOptions(options) {\n            return _setOptions(function (o) {\n              return _objectSpread({}, o, (0, _defineProperty2.default)({}, route.key, _objectSpread({}, o[route.key], {}, options)));\n            });\n          },\n          isFocused: function isFocused() {\n            var state = getState();\n\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            return navigation ? navigation.isFocused() : true;\n          }\n        });\n      }\n\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":91,"map":[[15,0,1,0],[17,0,2,0],[19,0,10,0],[25,0,38,15],[25,11,38,24,"useNavigationCache"],[25,29,38,15],[25,36,48,19],[26,0,48,19],[26,8,42,2,"state"],[26,13,48,19],[26,21,42,2,"state"],[26,26,48,19],[27,0,48,19],[27,8,43,2,"getState"],[27,16,48,19],[27,24,43,2,"getState"],[27,32,48,19],[28,0,48,19],[28,8,44,2,"navigation"],[28,18,48,19],[28,26,44,2,"navigation"],[28,36,48,19],[29,0,48,19],[29,8,45,2,"setOptions"],[29,19,48,19],[29,27,45,2,"setOptions"],[29,37,48,19],[30,0,48,19],[30,8,46,2,"router"],[30,14,48,19],[30,22,46,2,"router"],[30,28,48,19],[31,0,48,19],[31,8,47,2,"emitter"],[31,15,48,19],[31,23,47,2,"emitter"],[31,30,48,19],[32,0,52,2],[32,8,52,8,"parentNavigation"],[32,24,52,24],[32,27,52,27,"React"],[32,32,52,32],[32,33,52,33,"useContext"],[32,43,52,27],[32,44,52,44,"NavigationContext"],[32,70,52,27],[32,71,52,2],[33,0,54,2],[33,8,54,8,"cache"],[33,13,54,13],[33,16,54,16,"React"],[33,21,54,21],[33,22,54,22,"useMemo"],[33,29,54,16],[33,30,55,4],[34,0,55,4],[34,13,55,11],[35,0,55,13,"current"],[35,8,55,13,"current"],[35,15,55,20],[35,17,55,22],[36,0,55,11],[36,7,55,4],[37,0,55,4],[37,5,54,16],[37,7,57,4],[37,8,57,5,"getState"],[37,16,57,4],[37,18,57,15,"navigation"],[37,28,57,4],[37,30,57,27,"setOptions"],[37,41,57,4],[37,43,57,39,"router"],[37,49,57,4],[37,51,57,47,"emitter"],[37,58,57,4],[37,60,57,56,"parentNavigation"],[37,76,57,4],[37,77,54,16],[37,78,54,2],[39,0,60,2],[39,8,60,8,"actions"],[39,15,60,15],[39,36,61,7,"router"],[39,42,61,13],[39,43,61,14,"actionCreators"],[39,57,60,15],[39,63,62,7,"CommonActions"],[39,85,60,15],[39,86,60,2],[41,0,65,2,"cache"],[41,4,65,2,"cache"],[41,9,65,7],[41,10,65,8,"current"],[41,17,65,2],[41,20,65,18,"state"],[41,25,65,23],[41,26,65,24,"routes"],[41,32,65,18],[41,33,65,31,"reduce"],[41,39,65,18],[41,40,66,4],[41,50,66,5,"acc"],[41,53,66,4],[41,55,66,10,"route"],[41,60,66,4],[41,62,66,20],[42,0,67,6],[42,10,67,12,"previous"],[42,18,67,20],[42,21,67,23,"cache"],[42,26,67,28],[42,27,67,29,"current"],[42,34,67,23],[42,35,67,37,"route"],[42,40,67,42],[42,41,67,43,"key"],[42,44,67,23],[42,45,67,6],[44,0,69,6],[44,10,69,10,"previous"],[44,18,69,6],[44,20,69,20],[45,0,71,8,"acc"],[45,8,71,8,"acc"],[45,11,71,11],[45,12,71,12,"route"],[45,17,71,17],[45,18,71,18,"key"],[45,21,71,11],[45,22,71,8],[45,25,71,25,"previous"],[45,33,71,8],[46,0,72,7],[46,7,69,6],[46,13,72,13],[47,0,72,13],[47,12,74,16,"emit"],[47,16,72,13],[47,19,74,34,"navigation"],[47,29,72,13],[47,30,74,16,"emit"],[47,34,72,13],[48,0,72,13],[48,12,74,25,"rest"],[48,16,72,13],[48,58,74,34,"navigation"],[48,68,72,13],[50,0,76,8],[50,12,76,14,"dispatch"],[50,20,76,22],[50,23,76,25],[50,32,76,14,"dispatch"],[50,40,76,25],[50,41,77,10,"action"],[50,47,76,25],[50,49,78,13],[51,0,79,10],[51,14,79,16,"payload"],[51,21,79,23],[51,24,80,12],[51,31,80,19,"action"],[51,37,80,12],[51,42,80,30],[51,52,80,12],[51,55,80,43,"action"],[51,61,80,49],[51,62,80,50,"getState"],[51,70,80,58],[51,72,80,49],[51,73,80,12],[51,76,80,64,"action"],[51,82,79,10],[52,0,82,10,"navigation"],[52,10,82,10,"navigation"],[52,20,82,20],[52,21,82,21,"dispatch"],[52,29,82,10],[52,30,83,12],[52,37,83,19,"payload"],[52,44,83,12],[52,49,83,31],[52,57,83,12],[52,61,83,43,"payload"],[52,68,83,50],[52,72,83,54],[52,76,83,12],[53,0,84,18,"source"],[53,12,84,18,"source"],[53,18,84,24],[53,20,84,26,"route"],[53,25,84,31],[53,26,84,32,"key"],[54,0,83,12],[54,13,84,40,"payload"],[54,20,83,12],[54,24,85,16,"payload"],[54,31,82,10],[55,0,87,9],[55,9,76,8],[57,0,89,8],[57,12,89,14,"helpers"],[57,19,89,21],[57,22,89,24,"Object"],[57,28,89,30],[57,29,89,31,"keys"],[57,33,89,24],[57,34,89,36,"actions"],[57,41,89,24],[57,43,89,45,"reduce"],[57,49,89,24],[57,50,90,10],[57,60,90,11,"acc"],[57,63,90,10],[57,65,90,16,"name"],[57,69,90,10],[57,71,90,25],[58,0,92,12,"acc"],[58,10,92,12,"acc"],[58,13,92,15],[58,14,92,16,"name"],[58,18,92,15],[58,19,92,12],[58,22,92,24],[59,0,92,24],[59,19,92,42,"dispatch"],[59,27,92,50],[59,28,92,51,"actions"],[59,35,92,58],[59,36,92,59,"name"],[59,40,92,58],[59,41,92,51],[59,48,92,51,"actions"],[59,55,92,58],[59,67,92,50],[59,68,92,24],[60,0,92,24],[60,11,92,12],[62,0,93,12],[62,17,93,19,"acc"],[62,20,93,12],[63,0,94,11],[63,9,89,24],[63,11,95,10],[63,13,89,24],[63,14,89,8],[64,0,98,8,"acc"],[64,8,98,8,"acc"],[64,11,98,11],[64,12,98,12,"route"],[64,17,98,17],[64,18,98,18,"key"],[64,21,98,11],[64,22,98,8],[64,43,99,13,"rest"],[64,47,98,8],[64,53,100,13,"helpers"],[64,60,98,8],[64,66,101,13,"emitter"],[64,73,101,20],[64,74,101,21,"create"],[64,80,101,13],[64,81,101,28,"route"],[64,86,101,33],[64,87,101,34,"key"],[64,90,101,13],[64,91,98,8],[65,0,102,10,"dangerouslyGetParent"],[65,10,102,10,"dangerouslyGetParent"],[65,30,102,30],[65,32,102,32],[66,0,102,32],[66,19,102,38,"parentNavigation"],[66,35,102,32],[67,0,102,32],[67,11,98,8],[68,0,103,10,"dangerouslyGetState"],[68,10,103,10,"dangerouslyGetState"],[68,29,103,29],[68,31,103,31,"getState"],[68,39,98,8],[69,0,104,10,"dispatch"],[69,10,104,10,"dispatch"],[69,18,104,18],[69,20,104,10,"dispatch"],[69,28,98,8],[70,0,105,10,"setOptions"],[70,10,105,10,"setOptions"],[70,20,105,20],[70,22,105,22],[70,42,105,23,"options"],[70,49,105,22],[71,0,105,22],[71,19,106,12,"setOptions"],[71,30,106,22],[71,31,106,23],[71,41,106,24,"o"],[71,42,106,23],[72,0,106,23],[72,39,107,17,"o"],[72,40,106,23],[72,76,108,15,"route"],[72,81,108,20],[72,82,108,21,"key"],[72,85,106,23],[72,105,108,32,"o"],[72,106,108,33],[72,107,108,34,"route"],[72,112,108,39],[72,113,108,40,"key"],[72,116,108,33],[72,117,106,23],[72,123,108,49,"options"],[72,130,106,23],[73,0,106,23],[73,13,106,22],[73,14,105,22],[74,0,105,22],[74,11,98,8],[75,0,110,10,"isFocused"],[75,10,110,10,"isFocused"],[75,19,110,19],[75,21,110,21],[75,42,110,27],[76,0,111,12],[76,16,111,18,"state"],[76,21,111,23],[76,24,111,26,"getState"],[76,32,111,34],[76,34,111,12],[78,0,113,12],[78,16,113,16,"state"],[78,21,113,21],[78,22,113,22,"routes"],[78,28,113,16],[78,29,113,29,"state"],[78,34,113,34],[78,35,113,35,"index"],[78,40,113,16],[78,42,113,42,"key"],[78,45,113,16],[78,50,113,50,"route"],[78,55,113,55],[78,56,113,56,"key"],[78,59,113,12],[78,61,113,61],[79,0,114,14],[79,21,114,21],[79,26,114,14],[80,0,115,13],[82,0,119,12],[82,19,119,19,"navigation"],[82,29,119,29],[82,32,119,32,"navigation"],[82,42,119,42],[82,43,119,43,"isFocused"],[82,52,119,32],[82,54,119,29],[82,57,119,57],[82,61,119,12],[83,0,120,11],[84,0,98,8],[85,0,122,7],[87,0,124,6],[87,13,124,13,"acc"],[87,16,124,6],[88,0,125,5],[88,5,65,18],[88,7,126,4],[88,9,65,18],[88,10,65,2],[89,0,129,2],[89,11,129,9,"cache"],[89,16,129,14],[89,17,129,15,"current"],[89,24,129,2],[90,0,130,1]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","Object.keys.reduce$argument_0","acc.name","acc.route.key.dangerouslyGetParent","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCqC;ICiB,gED;IEW;yBCU;SDW;UEG;wBCE,kDD;WFE;gCIQ,6BJ;sBKG;uBCC;cDG,CL;qBOC;WPU;KFK;CDK"}},"type":"js/module"}]}