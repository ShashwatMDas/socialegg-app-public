{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(function () {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef({});\n    var create = React.useCallback(function (target) {\n      var removeListener = function removeListener(type, callback) {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n\n        if (!callbacks) {\n          return;\n        }\n\n        var index = callbacks.indexOf(callback);\n        callbacks.splice(index, 1);\n      };\n\n      var addListener = function addListener(type, callback) {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        return function () {\n          return removeListener(type, callback);\n        };\n      };\n\n      return {\n        addListener: addListener,\n        removeListener: removeListener\n      };\n    }, []);\n    var emit = React.useCallback(function (_ref) {\n      var _ref2;\n\n      var type = _ref.type,\n          data = _ref.data,\n          target = _ref.target,\n          canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n      var callbacks = target !== undefined ? items[target] && items[target].slice() : (_ref2 = []).concat.apply(_ref2, (0, _toConsumableArray2.default)(Object.keys(items).map(function (t) {\n        return items[t];\n      }))).filter(function (cb, i, self) {\n        return self.lastIndexOf(cb) === i;\n      });\n      var event = {\n        get type() {\n          return type;\n        }\n\n      };\n\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get: function get() {\n            return target;\n          }\n        });\n      }\n\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get: function get() {\n            return data;\n          }\n        });\n      }\n\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get: function get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value: function value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n\n      listenRef.current == null ? void 0 : listenRef.current(event);\n      callbacks == null ? void 0 : callbacks.forEach(function (cb) {\n        return cb(event);\n      });\n      return event;\n    }, []);\n    return React.useMemo(function () {\n      return {\n        create: create,\n        emit: emit\n      };\n    }, [create, emit]);\n  }\n});","lineCount":116,"map":[[13,0,1,0],[15,0,13,15],[15,11,13,24,"useEventEmitter"],[15,26,13,15],[15,27,14,2,"listen"],[15,33,13,15],[15,35,15,26],[16,0,16,2],[16,8,16,8,"listenRef"],[16,17,16,17],[16,20,16,20,"React"],[16,25,16,25],[16,26,16,26,"useRef"],[16,32,16,20],[16,33,16,33,"listen"],[16,39,16,20],[16,40,16,2],[17,0,18,2,"React"],[17,4,18,2,"React"],[17,9,18,7],[17,10,18,8,"useEffect"],[17,19,18,2],[17,20,18,18],[17,32,18,24],[18,0,19,4,"listenRef"],[18,6,19,4,"listenRef"],[18,15,19,13],[18,16,19,14,"current"],[18,23,19,4],[18,26,19,24,"listen"],[18,32,19,4],[19,0,20,3],[19,5,18,2],[20,0,22,2],[20,8,22,8,"listeners"],[20,17,22,17],[20,20,22,20,"React"],[20,25,22,25],[20,26,22,26,"useRef"],[20,32,22,20],[20,33,22,76],[20,35,22,20],[20,36,22,2],[21,0,24,2],[21,8,24,8,"create"],[21,14,24,14],[21,17,24,17,"React"],[21,22,24,22],[21,23,24,23,"useCallback"],[21,34,24,17],[21,35,24,35],[21,45,24,36,"target"],[21,51,24,35],[21,53,24,55],[22,0,25,4],[22,10,25,10,"removeListener"],[22,24,25,24],[22,27,25,27],[22,36,25,10,"removeListener"],[22,50,25,27],[22,51,25,28,"type"],[22,55,25,27],[22,57,25,42,"callback"],[22,65,25,27],[22,67,25,76],[23,0,26,6],[23,12,26,12,"callbacks"],[23,21,26,21],[23,24,26,24,"listeners"],[23,33,26,33],[23,34,26,34,"current"],[23,41,26,24],[23,42,26,42,"type"],[23,46,26,24],[23,50,27,10,"listeners"],[23,59,27,19],[23,60,27,20,"current"],[23,67,27,10],[23,68,27,28,"type"],[23,72,27,10],[23,74,27,34,"target"],[23,80,27,10],[23,81,26,24],[23,84,28,10,"undefined"],[23,93,26,6],[25,0,30,6],[25,12,30,10],[25,13,30,11,"callbacks"],[25,22,30,6],[25,24,30,22],[26,0,31,8],[27,0,32,7],[29,0,34,6],[29,12,34,12,"index"],[29,17,34,17],[29,20,34,20,"callbacks"],[29,29,34,29],[29,30,34,30,"indexOf"],[29,37,34,20],[29,38,34,38,"callback"],[29,46,34,20],[29,47,34,6],[30,0,36,6,"callbacks"],[30,8,36,6,"callbacks"],[30,17,36,15],[30,18,36,16,"splice"],[30,24,36,6],[30,25,36,23,"index"],[30,30,36,6],[30,32,36,30],[30,33,36,6],[31,0,37,5],[31,7,25,4],[33,0,39,4],[33,10,39,10,"addListener"],[33,21,39,21],[33,24,39,24],[33,33,39,10,"addListener"],[33,44,39,24],[33,45,39,25,"type"],[33,49,39,24],[33,51,39,39,"callback"],[33,59,39,24],[33,61,39,73],[34,0,40,6,"listeners"],[34,8,40,6,"listeners"],[34,17,40,15],[34,18,40,16,"current"],[34,25,40,6],[34,26,40,24,"type"],[34,30,40,6],[34,34,40,32,"listeners"],[34,43,40,41],[34,44,40,42,"current"],[34,51,40,32],[34,52,40,50,"type"],[34,56,40,32],[34,61,40,59],[34,63,40,6],[35,0,41,6,"listeners"],[35,8,41,6,"listeners"],[35,17,41,15],[35,18,41,16,"current"],[35,25,41,6],[35,26,41,24,"type"],[35,30,41,6],[35,32,41,30,"target"],[35,38,41,6],[35,42,41,40,"listeners"],[35,51,41,49],[35,52,41,50,"current"],[35,59,41,40],[35,60,41,58,"type"],[35,64,41,40],[35,66,41,64,"target"],[35,72,41,40],[35,77,41,75],[35,79,41,6],[36,0,42,6,"listeners"],[36,8,42,6,"listeners"],[36,17,42,15],[36,18,42,16,"current"],[36,25,42,6],[36,26,42,24,"type"],[36,30,42,6],[36,32,42,30,"target"],[36,38,42,6],[36,40,42,38,"push"],[36,44,42,6],[36,45,42,43,"callback"],[36,53,42,6],[37,0,44,6],[37,15,44,13],[38,0,44,13],[38,17,44,19,"removeListener"],[38,31,44,33],[38,32,44,34,"type"],[38,36,44,33],[38,38,44,40,"callback"],[38,46,44,33],[38,47,44,13],[39,0,44,13],[39,9,44,6],[40,0,45,5],[40,7,39,4],[42,0,47,4],[42,13,47,11],[43,0,48,6,"addListener"],[43,8,48,6,"addListener"],[43,19,48,17],[43,21,48,6,"addListener"],[43,32,47,11],[44,0,49,6,"removeListener"],[44,8,49,6,"removeListener"],[44,22,49,20],[44,24,49,6,"removeListener"],[45,0,47,11],[45,7,47,4],[46,0,51,3],[46,5,24,17],[46,7,51,5],[46,9,24,17],[46,10,24,2],[47,0,53,2],[47,8,53,8,"emit"],[47,12,53,12],[47,15,53,15,"React"],[47,20,53,20],[47,21,53,21,"useCallback"],[47,32,53,15],[47,33,54,4],[47,49,64,10],[48,0,64,10],[50,0,64,10],[50,10,55,6,"type"],[50,14,64,10],[50,22,55,6,"type"],[50,26,64,10],[51,0,64,10],[51,10,56,6,"data"],[51,14,64,10],[51,22,56,6,"data"],[51,26,64,10],[52,0,64,10],[52,10,57,6,"target"],[52,16,64,10],[52,24,57,6,"target"],[52,30,64,10],[53,0,64,10],[53,10,58,6,"canPreventDefault"],[53,27,64,10],[53,35,58,6,"canPreventDefault"],[53,52,64,10],[54,0,65,6],[54,10,65,12,"items"],[54,15,65,17],[54,18,65,20,"listeners"],[54,27,65,29],[54,28,65,30,"current"],[54,35,65,20],[54,36,65,38,"type"],[54,40,65,20],[54,45,65,47],[54,47,65,6],[55,0,68,6],[55,10,68,12,"callbacks"],[55,19,68,21],[55,22,69,8,"target"],[55,28,69,14],[55,33,69,19,"undefined"],[55,42,69,8],[55,45,70,12,"items"],[55,50,70,17],[55,51,70,18,"target"],[55,57,70,17],[55,58,70,12],[55,62,70,29,"items"],[55,67,70,34],[55,68,70,35,"target"],[55,74,70,34],[55,75,70,29],[55,76,70,43,"slice"],[55,81,70,29],[55,83,69,8],[55,86,71,12],[55,95,71,13],[55,97,71,12],[55,99,72,15,"concat"],[55,105,71,12],[55,152,72,25,"Object"],[55,158,72,31],[55,159,72,32,"keys"],[55,163,72,25],[55,164,72,37,"items"],[55,169,72,25],[55,171,72,44,"map"],[55,174,72,25],[55,175,72,48],[55,185,72,49,"t"],[55,186,72,48],[56,0,72,48],[56,15,72,55,"items"],[56,20,72,60],[56,21,72,61,"t"],[56,22,72,60],[56,23,72,48],[57,0,72,48],[57,7,72,25],[57,8,71,12],[57,11,73,15,"filter"],[57,17,71,12],[57,18,73,22],[57,28,73,23,"cb"],[57,30,73,22],[57,32,73,27,"i"],[57,33,73,22],[57,35,73,30,"self"],[57,39,73,22],[58,0,73,22],[58,15,73,39,"self"],[58,19,73,43],[58,20,73,44,"lastIndexOf"],[58,31,73,39],[58,32,73,56,"cb"],[58,34,73,39],[58,40,73,64,"i"],[58,41,73,22],[59,0,73,22],[59,7,71,12],[59,8,68,6],[60,0,75,6],[60,10,75,12,"event"],[60,15,75,42],[60,18,75,45],[61,0,76,8],[61,12,76,12,"type"],[61,16,76,8],[61,19,76,19],[62,0,77,10],[62,17,77,17,"type"],[62,21,77,10],[63,0,78,9],[65,0,75,45],[65,7,75,6],[67,0,81,6],[67,10,81,10,"target"],[67,16,81,16],[67,21,81,21,"undefined"],[67,30,81,6],[67,32,81,32],[68,0,82,8,"Object"],[68,8,82,8,"Object"],[68,14,82,14],[68,15,82,15,"defineProperty"],[68,29,82,8],[68,30,82,30,"event"],[68,35,82,8],[68,37,82,37],[68,45,82,8],[68,47,82,47],[69,0,83,10,"enumerable"],[69,10,83,10,"enumerable"],[69,20,83,20],[69,22,83,22],[69,26,82,47],[70,0,84,10,"get"],[70,10,84,10,"get"],[70,13,82,47],[70,30,84,16],[71,0,85,12],[71,19,85,19,"target"],[71,25,85,12],[72,0,86,11],[73,0,82,47],[73,9,82,8],[74,0,88,7],[76,0,90,6],[76,10,90,10,"data"],[76,14,90,14],[76,19,90,19,"undefined"],[76,28,90,6],[76,30,90,30],[77,0,91,8,"Object"],[77,8,91,8,"Object"],[77,14,91,14],[77,15,91,15,"defineProperty"],[77,29,91,8],[77,30,91,30,"event"],[77,35,91,8],[77,37,91,37],[77,43,91,8],[77,45,91,45],[78,0,92,10,"enumerable"],[78,10,92,10,"enumerable"],[78,20,92,20],[78,22,92,22],[78,26,91,45],[79,0,93,10,"get"],[79,10,93,10,"get"],[79,13,91,45],[79,30,93,16],[80,0,94,12],[80,19,94,19,"data"],[80,23,94,12],[81,0,95,11],[82,0,91,45],[82,9,91,8],[83,0,97,7],[85,0,99,6],[85,10,99,10,"canPreventDefault"],[85,27,99,6],[85,29,99,29],[86,0,100,8],[86,12,100,12,"defaultPrevented"],[86,28,100,28],[86,31,100,31],[86,36,100,8],[87,0,102,8,"Object"],[87,8,102,8,"Object"],[87,14,102,14],[87,15,102,15,"defineProperties"],[87,31,102,8],[87,32,102,32,"event"],[87,37,102,8],[87,39,102,39],[88,0,103,10,"defaultPrevented"],[88,10,103,10,"defaultPrevented"],[88,26,103,26],[88,28,103,28],[89,0,104,12,"enumerable"],[89,12,104,12,"enumerable"],[89,22,104,22],[89,24,104,24],[89,28,103,28],[90,0,105,12,"get"],[90,12,105,12,"get"],[90,15,103,28],[90,32,105,18],[91,0,106,14],[91,21,106,21,"defaultPrevented"],[91,37,106,14],[92,0,107,13],[93,0,103,28],[93,11,102,39],[94,0,109,10,"preventDefault"],[94,10,109,10,"preventDefault"],[94,24,109,24],[94,26,109,26],[95,0,110,12,"enumerable"],[95,12,110,12,"enumerable"],[95,22,110,22],[95,24,110,24],[95,28,109,26],[96,0,111,12,"value"],[96,12,111,12,"value"],[96,17,109,26],[96,36,111,20],[97,0,112,14,"defaultPrevented"],[97,14,112,14,"defaultPrevented"],[97,30,112,30],[97,33,112,33],[97,37,112,14],[98,0,113,13],[99,0,109,26],[100,0,102,39],[100,9,102,8],[101,0,116,7],[103,0,118,6,"listenRef"],[103,6,118,6,"listenRef"],[103,15,118,15],[103,16,118,16,"current"],[103,23,118,6],[103,43,118,6,"listenRef"],[103,52,118,15],[103,53,118,16,"current"],[103,60,118,6],[103,61,118,26,"event"],[103,66,118,6],[104,0,120,6,"callbacks"],[104,6,120,6,"callbacks"],[104,15,120,15],[104,23,120,6],[104,35,120,6,"callbacks"],[104,44,120,15],[104,45,120,17,"forEach"],[104,52,120,6],[104,53,120,25],[104,63,120,26,"cb"],[104,65,120,25],[105,0,120,25],[105,15,120,33,"cb"],[105,17,120,35],[105,18,120,36,"event"],[105,23,120,35],[105,24,120,25],[106,0,120,25],[106,7,120,6],[107,0,122,6],[107,13,122,13,"event"],[107,18,122,6],[108,0,123,5],[108,5,53,15],[108,7,124,4],[108,9,53,15],[108,10,53,2],[109,0,127,2],[109,11,127,9,"React"],[109,16,127,14],[109,17,127,15,"useMemo"],[109,24,127,9],[109,25,127,23],[110,0,127,23],[110,13,127,30],[111,0,127,32,"create"],[111,8,127,32,"create"],[111,14,127,38],[111,16,127,32,"create"],[111,22,127,30],[112,0,127,40,"emit"],[112,8,127,40,"emit"],[112,12,127,44],[112,14,127,40,"emit"],[113,0,127,30],[113,7,127,23],[114,0,127,23],[114,5,127,9],[114,7,127,49],[114,8,127,50,"create"],[114,14,127,49],[114,16,127,58,"emit"],[114,20,127,49],[114,21,127,9],[114,22,127,2],[115,0,128,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","React.useCallback$argument_0","removeListener","addListener","<anonymous>","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","React.useMemo$argument_0"],"mappings":"AAA;eCY;kBCK;GDE;mCEI;2BCC;KDY;wBEE;aCK,oCD;KFC;GFM;IEG;gDIkB,eJ;sBKC,2CL;QMG;SNE;UOM;WPE;UOO;WPE;YQU;aRE;YSI;aTE;yBGO,iBH;KFG;uBYI,wBZ;CDC"}},"type":"js/module"}]}