{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"expo-asset","data":{"isAsync":false}},{"name":"expo-constants","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./ExpoFontLoader","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fontFamilyNeedsScoping = fontFamilyNeedsScoping;\n  exports.getAssetForSource = getAssetForSource;\n  exports.loadSingleFontAsync = loadSingleFontAsync;\n  exports.getNativeFontName = getNativeFontName;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _core = _$$_REQUIRE(_dependencyMap[2], \"@unimodules/core\");\n\n  var _expoAsset = _$$_REQUIRE(_dependencyMap[3], \"expo-asset\");\n\n  var _expoConstants = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"expo-constants\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[5], \"react-native\");\n\n  var _ExpoFontLoader = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./ExpoFontLoader\"));\n\n  var isInClient = _expoConstants.default.appOwnership === 'expo';\n  var isInIOSStandalone = _expoConstants.default.appOwnership === 'standalone' && _reactNative.Platform.OS === 'ios';\n\n  function fontFamilyNeedsScoping(name) {\n    return (isInClient || isInIOSStandalone) && !_expoConstants.default.systemFonts.includes(name) && name !== 'System' && !name.includes(_expoConstants.default.sessionId);\n  }\n\n  function getAssetForSource(source) {\n    if (source instanceof _expoAsset.Asset) {\n      return source;\n    }\n\n    if (typeof source === 'string') {\n      return _expoAsset.Asset.fromURI(source);\n    } else if (typeof source === 'number') {\n      return _expoAsset.Asset.fromModule(source);\n    } else if (typeof source === 'object' && typeof source.uri !== 'undefined') {\n      return getAssetForSource(source.uri);\n    }\n\n    return source;\n  }\n\n  function loadSingleFontAsync(name, input) {\n    var asset;\n    return _regenerator.default.async(function loadSingleFontAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            asset = input;\n\n            if (asset.downloadAsync) {\n              _context.next = 3;\n              break;\n            }\n\n            throw new _core.CodedError(\"ERR_FONT_SOURCE\", '`loadSingleFontAsync` expected resource of type `Asset` from expo-asset on native');\n\n          case 3:\n            _context.next = 5;\n            return _regenerator.default.awrap(asset.downloadAsync());\n\n          case 5:\n            if (asset.downloaded) {\n              _context.next = 7;\n              break;\n            }\n\n            throw new _core.CodedError(\"ERR_DOWNLOAD\", \"Failed to download asset for font \\\"\" + name + \"\\\"\");\n\n          case 7:\n            _context.next = 9;\n            return _regenerator.default.awrap(_ExpoFontLoader.default.loadAsync(getNativeFontName(name), asset.localUri));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function getNativeFontName(name) {\n    if (fontFamilyNeedsScoping(name)) {\n      return _expoConstants.default.sessionId + \"-\" + name;\n    } else {\n      return name;\n    }\n  }\n});","lineCount":93,"map":[[14,0,1,0],[16,0,2,0],[18,0,3,0],[20,0,4,0],[22,0,5,0],[24,0,6,0],[24,6,6,6,"isInClient"],[24,16,6,16],[24,19,6,19,"Constants"],[24,42,6,29,"appOwnership"],[24,54,6,19],[24,59,6,46],[24,65,6,0],[25,0,7,0],[25,6,7,6,"isInIOSStandalone"],[25,23,7,23],[25,26,7,26,"Constants"],[25,49,7,36,"appOwnership"],[25,61,7,26],[25,66,7,53],[25,78,7,26],[25,82,7,69,"Platform"],[25,104,7,78,"OS"],[25,106,7,69],[25,111,7,85],[25,116,7,0],[27,0,8,7],[27,11,8,16,"fontFamilyNeedsScoping"],[27,33,8,7],[27,34,8,39,"name"],[27,38,8,7],[27,40,8,45],[28,0,9,4],[28,11,9,12],[28,12,9,13,"isInClient"],[28,22,9,23],[28,26,9,27,"isInIOSStandalone"],[28,43,9,12],[28,48,10,8],[28,49,10,9,"Constants"],[28,72,10,19,"systemFonts"],[28,83,10,9],[28,84,10,31,"includes"],[28,92,10,9],[28,93,10,40,"name"],[28,97,10,9],[28,98,9,12],[28,102,11,8,"name"],[28,106,11,12],[28,111,11,17],[28,119,9,12],[28,123,12,8],[28,124,12,9,"name"],[28,128,12,13],[28,129,12,14,"includes"],[28,137,12,9],[28,138,12,23,"Constants"],[28,161,12,33,"sessionId"],[28,170,12,9],[28,171,9,4],[29,0,13,1],[31,0,14,7],[31,11,14,16,"getAssetForSource"],[31,28,14,7],[31,29,14,34,"source"],[31,35,14,7],[31,37,14,42],[32,0,15,4],[32,8,15,8,"source"],[32,14,15,14],[32,26,15,26,"Asset"],[32,42,15,4],[32,44,15,33],[33,0,16,8],[33,13,16,15,"source"],[33,19,16,8],[34,0,17,5],[36,0,18,4],[36,8,18,8],[36,15,18,15,"source"],[36,21,18,8],[36,26,18,26],[36,34,18,4],[36,36,18,36],[37,0,19,8],[37,13,19,15,"Asset"],[37,30,19,21,"fromURI"],[37,37,19,15],[37,38,19,29,"source"],[37,44,19,15],[37,45,19,8],[38,0,20,5],[38,5,18,4],[38,11,21,9],[38,15,21,13],[38,22,21,20,"source"],[38,28,21,13],[38,33,21,31],[38,41,21,9],[38,43,21,41],[39,0,22,8],[39,13,22,15,"Asset"],[39,30,22,21,"fromModule"],[39,40,22,15],[39,41,22,32,"source"],[39,47,22,15],[39,48,22,8],[40,0,23,5],[40,5,21,9],[40,11,24,9],[40,15,24,13],[40,22,24,20,"source"],[40,28,24,13],[40,33,24,31],[40,41,24,13],[40,45,24,43],[40,52,24,50,"source"],[40,58,24,56],[40,59,24,57,"uri"],[40,62,24,43],[40,67,24,65],[40,78,24,9],[40,80,24,78],[41,0,25,8],[41,13,25,15,"getAssetForSource"],[41,30,25,32],[41,31,25,33,"source"],[41,37,25,39],[41,38,25,40,"uri"],[41,41,25,32],[41,42,25,8],[42,0,26,5],[44,0,30,4],[44,11,30,11,"source"],[44,17,30,4],[45,0,31,1],[47,0,32,7],[47,11,32,22,"loadSingleFontAsync"],[47,30,32,7],[47,31,32,42,"name"],[47,35,32,7],[47,37,32,48,"input"],[47,42,32,7],[48,0,32,7],[49,0,32,7],[50,0,32,7],[51,0,32,7],[52,0,32,7],[53,0,33,10,"asset"],[53,12,33,10,"asset"],[53,17,32,7],[53,20,33,18,"input"],[53,25,32,7],[55,0,32,7],[55,16,34,9,"asset"],[55,21,34,14],[55,22,34,15,"downloadAsync"],[55,35,32,7],[56,0,32,7],[57,0,32,7],[58,0,32,7],[60,0,32,7],[60,18,35,14],[60,22,35,18,"CodedError"],[60,38,35,14],[60,58,35,48],[60,141,35,14],[60,142,32,7],[62,0,32,7],[63,0,32,7],[64,0,32,7],[64,46,37,10,"asset"],[64,51,37,15],[64,52,37,16,"downloadAsync"],[64,65,37,10],[64,67,32,7],[66,0,32,7],[67,0,32,7],[67,16,38,9,"asset"],[67,21,38,14],[67,22,38,15,"downloaded"],[67,32,32,7],[68,0,32,7],[69,0,32,7],[70,0,32,7],[72,0,32,7],[72,18,39,14],[72,22,39,18,"CodedError"],[72,38,39,14],[72,96,39,83,"name"],[72,100,39,14],[72,108,32,7],[74,0,32,7],[75,0,32,7],[76,0,32,7],[76,46,41,10,"ExpoFontLoader"],[76,70,41,25,"loadAsync"],[76,79,41,10],[76,80,41,35,"getNativeFontName"],[76,97,41,52],[76,98,41,53,"name"],[76,102,41,52],[76,103,41,10],[76,105,41,60,"asset"],[76,110,41,65],[76,111,41,66,"localUri"],[76,119,41,10],[76,120,32,7],[78,0,32,7],[79,0,32,7],[80,0,32,7],[81,0,32,7],[82,0,32,7],[83,0,32,7],[84,0,32,7],[86,0,43,7],[86,11,43,16,"getNativeFontName"],[86,28,43,7],[86,29,43,34,"name"],[86,33,43,7],[86,35,43,40],[87,0,44,4],[87,8,44,8,"fontFamilyNeedsScoping"],[87,30,44,30],[87,31,44,31,"name"],[87,35,44,30],[87,36,44,4],[87,38,44,38],[88,0,45,8],[88,13,45,18,"Constants"],[88,36,45,28,"sessionId"],[88,45,45,8],[88,54,45,41,"name"],[88,58,45,8],[89,0,46,5],[89,5,44,4],[89,11,47,9],[90,0,48,8],[90,13,48,15,"name"],[90,17,48,8],[91,0,49,5],[92,0,50,1]],"functionMap":{"names":["<global>","fontFamilyNeedsScoping","getAssetForSource","loadSingleFontAsync","getNativeFontName"],"mappings":"AAA;OCO;CDK;OEC;CFiB;OGC;CHU;OIC;CJO"}},"type":"js/module"}]}