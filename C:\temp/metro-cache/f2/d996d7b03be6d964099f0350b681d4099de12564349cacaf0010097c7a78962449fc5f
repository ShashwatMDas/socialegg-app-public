{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"./NativeFileReaderModule","data":{"isAsync":false}},{"name":"./Blob","data":{"isAsync":false}},{"name":"event-target-shim","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _NativeFileReaderModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeFileReaderModule\"));\n\n  function _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var Blob = _$$_REQUIRE(_dependencyMap[7], \"./Blob\");\n\n  var EventTarget = _$$_REQUIRE(_dependencyMap[8], \"event-target-shim\");\n\n  var READER_EVENTS = ['abort', 'error', 'load', 'loadstart', 'loadend', 'progress'];\n  var EMPTY = 0;\n  var LOADING = 1;\n  var DONE = 2;\n\n  var FileReader = function (_ref) {\n    (0, _inherits2.default)(FileReader, _ref);\n\n    var _super = _createSuper(FileReader);\n\n    function FileReader() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, FileReader);\n      _this = _super.call(this);\n      _this.EMPTY = EMPTY;\n      _this.LOADING = LOADING;\n      _this.DONE = DONE;\n      _this._aborted = false;\n      _this._subscriptions = [];\n\n      _this._reset();\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(FileReader, [{\n      key: \"_reset\",\n      value: function _reset() {\n        this._readyState = EMPTY;\n        this._error = null;\n        this._result = null;\n      }\n    }, {\n      key: \"_clearSubscriptions\",\n      value: function _clearSubscriptions() {\n        this._subscriptions.forEach(function (sub) {\n          return sub.remove();\n        });\n\n        this._subscriptions = [];\n      }\n    }, {\n      key: \"_setReadyState\",\n      value: function _setReadyState(newState) {\n        this._readyState = newState;\n        this.dispatchEvent({\n          type: 'readystatechange'\n        });\n\n        if (newState === DONE) {\n          if (this._aborted) {\n            this.dispatchEvent({\n              type: 'abort'\n            });\n          } else if (this._error) {\n            this.dispatchEvent({\n              type: 'error'\n            });\n          } else {\n            this.dispatchEvent({\n              type: 'load'\n            });\n          }\n\n          this.dispatchEvent({\n            type: 'loadend'\n          });\n        }\n      }\n    }, {\n      key: \"readAsArrayBuffer\",\n      value: function readAsArrayBuffer() {\n        throw new Error('FileReader.readAsArrayBuffer is not implemented');\n      }\n    }, {\n      key: \"readAsDataURL\",\n      value: function readAsDataURL(blob) {\n        var _this2 = this;\n\n        this._aborted = false;\n\n        _NativeFileReaderModule.default.readAsDataURL(blob.data).then(function (text) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._result = text;\n\n          _this2._setReadyState(DONE);\n        }, function (error) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._error = error;\n\n          _this2._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"readAsText\",\n      value: function readAsText(blob) {\n        var _this3 = this;\n\n        var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'UTF-8';\n        this._aborted = false;\n\n        _NativeFileReaderModule.default.readAsText(blob.data, encoding).then(function (text) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._result = text;\n\n          _this3._setReadyState(DONE);\n        }, function (error) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._error = error;\n\n          _this3._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        this._aborted = true;\n\n        if (this._readyState !== EMPTY && this._readyState !== DONE) {\n          this._reset();\n\n          this._setReadyState(DONE);\n        }\n\n        this._reset();\n      }\n    }, {\n      key: \"readyState\",\n      get: function get() {\n        return this._readyState;\n      }\n    }, {\n      key: \"error\",\n      get: function get() {\n        return this._error;\n      }\n    }, {\n      key: \"result\",\n      get: function get() {\n        return this._result;\n      }\n    }]);\n    return FileReader;\n  }(EventTarget.apply(void 0, READER_EVENTS));\n\n  FileReader.EMPTY = EMPTY;\n  FileReader.LOADING = LOADING;\n  FileReader.DONE = DONE;\n  module.exports = FileReader;\n});","lineCount":188,"map":[[2,0,11,0],[16,0,16,0],[22,0,13,0],[22,6,13,6,"Blob"],[22,10,13,10],[22,13,13,13,"require"],[22,24,13,20],[22,53,13,0],[24,0,14,0],[24,6,14,6,"EventTarget"],[24,17,14,17],[24,20,14,20,"require"],[24,31,14,27],[24,71,14,0],[26,0,25,0],[26,6,25,6,"READER_EVENTS"],[26,19,25,19],[26,22,25,22],[26,23,26,2],[26,30,25,22],[26,32,27,2],[26,39,25,22],[26,41,28,2],[26,47,25,22],[26,49,29,2],[26,60,25,22],[26,62,30,2],[26,71,25,22],[26,73,31,2],[26,83,25,22],[26,84,25,0],[27,0,34,0],[27,6,34,6,"EMPTY"],[27,11,34,11],[27,14,34,14],[27,15,34,0],[28,0,35,0],[28,6,35,6,"LOADING"],[28,13,35,13],[28,16,35,16],[28,17,35,0],[29,0,36,0],[29,6,36,6,"DONE"],[29,10,36,10],[29,13,36,13],[29,14,36,0],[31,6,38,6,"FileReader"],[31,16],[36,0,53,2],[36,26,53,16],[37,0,53,16],[39,0,53,16],[40,0,54,4],[41,0,53,16],[41,12,43,2,"EMPTY"],[41,17,53,16],[41,20,43,18,"EMPTY"],[41,25,53,16],[42,0,53,16],[42,12,44,2,"LOADING"],[42,19,53,16],[42,22,44,20,"LOADING"],[42,29,53,16],[43,0,53,16],[43,12,45,2,"DONE"],[43,16,53,16],[43,19,45,17,"DONE"],[43,23,53,16],[44,0,53,16],[44,12,50,2,"_aborted"],[44,20,53,16],[44,23,50,22],[44,28,53,16],[45,0,53,16],[45,12,51,2,"_subscriptions"],[45,26,53,16],[45,29,51,29],[45,31,53,16],[47,0,55,4],[47,12,55,9,"_reset"],[47,18,55,4],[49,0,53,16],[50,0,56,3],[54,31,58,17],[55,0,59,4],[55,13,59,9,"_readyState"],[55,24,59,4],[55,27,59,23,"EMPTY"],[55,32,59,4],[56,0,60,4],[56,13,60,9,"_error"],[56,19,60,4],[56,22,60,18],[56,26,60,4],[57,0,61,4],[57,13,61,9,"_result"],[57,20,61,4],[57,23,61,19],[57,27,61,4],[58,0,62,3],[61,44,64,30],[62,0,65,4],[62,13,65,9,"_subscriptions"],[62,27,65,4],[62,28,65,24,"forEach"],[62,35,65,4],[62,36,65,32],[62,46,65,32,"sub"],[62,49,65,35],[63,0,65,35],[63,17,65,39,"sub"],[63,20,65,42],[63,21,65,43,"remove"],[63,27,65,39],[63,29,65,35],[64,0,65,35],[64,9,65,4],[66,0,66,4],[66,13,66,9,"_subscriptions"],[66,27,66,4],[66,30,66,26],[66,32,66,4],[67,0,67,3],[70,37,69,17,"newState"],[70,45],[70,47,69,39],[71,0,70,4],[71,13,70,9,"_readyState"],[71,24,70,4],[71,27,70,23,"newState"],[71,35,70,4],[72,0,71,4],[72,13,71,9,"dispatchEvent"],[72,26,71,4],[72,27,71,23],[73,0,71,24,"type"],[73,10,71,24,"type"],[73,14,71,28],[73,16,71,30],[74,0,71,23],[74,9,71,4],[76,0,72,4],[76,12,72,8,"newState"],[76,20,72,16],[76,25,72,21,"DONE"],[76,29,72,4],[76,31,72,27],[77,0,73,6],[77,14,73,10],[77,19,73,15,"_aborted"],[77,27,73,6],[77,29,73,25],[78,0,74,8],[78,17,74,13,"dispatchEvent"],[78,30,74,8],[78,31,74,27],[79,0,74,28,"type"],[79,14,74,28,"type"],[79,18,74,32],[79,20,74,34],[80,0,74,27],[80,13,74,8],[81,0,75,7],[81,11,73,6],[81,17,75,13],[81,21,75,17],[81,26,75,22,"_error"],[81,32,75,13],[81,34,75,30],[82,0,76,8],[82,17,76,13,"dispatchEvent"],[82,30,76,8],[82,31,76,27],[83,0,76,28,"type"],[83,14,76,28,"type"],[83,18,76,32],[83,20,76,34],[84,0,76,27],[84,13,76,8],[85,0,77,7],[85,11,75,13],[85,17,77,13],[86,0,78,8],[86,17,78,13,"dispatchEvent"],[86,30,78,8],[86,31,78,27],[87,0,78,28,"type"],[87,14,78,28,"type"],[87,18,78,32],[87,20,78,34],[88,0,78,27],[88,13,78,8],[89,0,79,7],[91,0,80,6],[91,15,80,11,"dispatchEvent"],[91,28,80,6],[91,29,80,25],[92,0,80,26,"type"],[92,12,80,26,"type"],[92,16,80,30],[92,18,80,32],[93,0,80,25],[93,11,80,6],[94,0,81,5],[95,0,82,3],[98,42,84,22],[99,0,85,4],[99,14,85,10],[99,18,85,14,"Error"],[99,23,85,10],[99,24,85,20],[99,73,85,10],[99,74,85,4],[100,0,86,3],[103,36,88,16,"blob"],[103,40],[103,42,88,28],[104,0,88,28],[106,0,89,4],[106,13,89,9,"_aborted"],[106,21,89,4],[106,24,89,20],[106,29,89,4],[108,0,91,4,"NativeFileReaderModule"],[108,40,91,27,"readAsDataURL"],[108,53,91,4],[108,54,91,41,"blob"],[108,58,91,45],[108,59,91,46,"data"],[108,63,91,4],[108,65,91,52,"then"],[108,69,91,4],[108,70,92,6],[108,80,92,7,"text"],[108,84,92,6],[108,86,92,24],[109,0,93,8],[109,14,93,12],[109,20,93,16],[109,21,93,17,"_aborted"],[109,29,93,8],[109,31,93,27],[110,0,94,10],[111,0,95,9],[113,0,96,8],[113,10,96,8],[113,16,96,12],[113,17,96,13,"_result"],[113,24,96,8],[113,27,96,23,"text"],[113,31,96,8],[115,0,97,8],[115,10,97,8],[115,16,97,12],[115,17,97,13,"_setReadyState"],[115,31,97,8],[115,32,97,28,"DONE"],[115,36,97,8],[116,0,98,7],[116,9,91,4],[116,11,99,6],[116,21,99,6,"error"],[116,26,99,11],[116,28,99,15],[117,0,100,8],[117,14,100,12],[117,20,100,16],[117,21,100,17,"_aborted"],[117,29,100,8],[117,31,100,27],[118,0,101,10],[119,0,102,9],[121,0,103,8],[121,10,103,8],[121,16,103,12],[121,17,103,13,"_error"],[121,23,103,8],[121,26,103,22,"error"],[121,31,103,8],[123,0,104,8],[123,10,104,8],[123,16,104,12],[123,17,104,13,"_setReadyState"],[123,31,104,8],[123,32,104,28,"DONE"],[123,36,104,8],[124,0,105,7],[124,9,91,4],[125,0,107,3],[128,33,109,13,"blob"],[128,37],[128,39,109,53],[129,0,109,53],[131,0,109,53],[131,12,109,25,"encoding"],[131,20,109,53],[131,91,109,44],[131,98,109,53],[132,0,110,4],[132,13,110,9,"_aborted"],[132,21,110,4],[132,24,110,20],[132,29,110,4],[134,0,112,4,"NativeFileReaderModule"],[134,40,112,27,"readAsText"],[134,50,112,4],[134,51,112,38,"blob"],[134,55,112,42],[134,56,112,43,"data"],[134,60,112,4],[134,62,112,49,"encoding"],[134,70,112,4],[134,72,112,59,"then"],[134,76,112,4],[134,77,113,6],[134,87,113,7,"text"],[134,91,113,6],[134,93,113,24],[135,0,114,8],[135,14,114,12],[135,20,114,16],[135,21,114,17,"_aborted"],[135,29,114,8],[135,31,114,27],[136,0,115,10],[137,0,116,9],[139,0,117,8],[139,10,117,8],[139,16,117,12],[139,17,117,13,"_result"],[139,24,117,8],[139,27,117,23,"text"],[139,31,117,8],[141,0,118,8],[141,10,118,8],[141,16,118,12],[141,17,118,13,"_setReadyState"],[141,31,118,8],[141,32,118,28,"DONE"],[141,36,118,8],[142,0,119,7],[142,9,112,4],[142,11,120,6],[142,21,120,6,"error"],[142,26,120,11],[142,28,120,15],[143,0,121,8],[143,14,121,12],[143,20,121,16],[143,21,121,17,"_aborted"],[143,29,121,8],[143,31,121,27],[144,0,122,10],[145,0,123,9],[147,0,124,8],[147,10,124,8],[147,16,124,12],[147,17,124,13,"_error"],[147,23,124,8],[147,26,124,22,"error"],[147,31,124,8],[149,0,125,8],[149,10,125,8],[149,16,125,12],[149,17,125,13,"_setReadyState"],[149,31,125,8],[149,32,125,28,"DONE"],[149,36,125,8],[150,0,126,7],[150,9,112,4],[151,0,128,3],[154,30,130,10],[155,0,131,4],[155,13,131,9,"_aborted"],[155,21,131,4],[155,24,131,20],[155,28,131,4],[157,0,133,4],[157,12,133,8],[157,17,133,13,"_readyState"],[157,28,133,8],[157,33,133,29,"EMPTY"],[157,38,133,8],[157,42,133,38],[157,47,133,43,"_readyState"],[157,58,133,38],[157,63,133,59,"DONE"],[157,67,133,4],[157,69,133,65],[158,0,134,6],[158,15,134,11,"_reset"],[158,21,134,6],[160,0,135,6],[160,15,135,11,"_setReadyState"],[160,29,135,6],[160,30,135,26,"DONE"],[160,34,135,6],[161,0,136,5],[163,0,138,4],[163,13,138,9,"_reset"],[163,19,138,4],[164,0,139,3],[167,26,141,31],[168,0,142,4],[168,15,142,11],[168,20,142,16,"_readyState"],[168,31,142,4],[169,0,143,3],[172,26,145,22],[173,0,146,4],[173,15,146,11],[173,20,146,16,"_error"],[173,26,146,4],[174,0,147,3],[177,26,149,30],[178,0,150,4],[178,15,150,11],[178,20,150,16,"_result"],[178,27,150,4],[179,0,151,3],[182,4,38,26,"EventTarget"],[182,15,38,37],[182,21,38,26],[182,30,38,41,"READER_EVENTS"],[182,43,38,26],[182,44],[184,0,38,6,"FileReader"],[184,2,38,6,"FileReader"],[184,12],[184,13,39,9,"EMPTY"],[184,18],[184,21,39,25,"EMPTY"],[184,26],[185,0,38,6,"FileReader"],[185,2,38,6,"FileReader"],[185,12],[185,13,40,9,"LOADING"],[185,20],[185,23,40,27,"LOADING"],[185,30],[186,0,38,6,"FileReader"],[186,2,38,6,"FileReader"],[186,12],[186,13,41,9,"DONE"],[186,17],[186,20,41,24,"DONE"],[186,24],[187,0,154,0,"module"],[187,2,154,0,"module"],[187,8,154,6],[187,9,154,7,"exports"],[187,16,154,0],[187,19,154,17,"FileReader"],[187,29,154,0]],"functionMap":{"names":["<global>","FileReader","constructor","_reset","_clearSubscriptions","_subscriptions.forEach$argument_0","_setReadyState","readAsArrayBuffer","readAsDataURL","NativeFileReaderModule.readAsDataURL.then$argument_0","NativeFileReaderModule.readAsDataURL.then$argument_1","readAsText","NativeFileReaderModule.readAsText.then$argument_0","NativeFileReaderModule.readAsText.then$argument_1","abort","get__readyState","get__error","get__result"],"mappings":"AAA;ACqC;ECe;GDG;EEE;GFI;EGE;gCCC,mBD;GHE;EKE;GLa;EME;GNE;EOE;MCI;ODM;MEC;OFM;GPE;EUE;MCI;ODM;MEC;OFM;GVE;EaE;GbS;EcE;GdE;EeE;GfE;EgBE;GhBE;CDC"}},"type":"js/module"}]}